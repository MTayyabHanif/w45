/* Modernizr 2.6.2 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-csstransitions-touch-shiv-cssclasses-prefixed-teststyles-testprop-testallprops-prefixes-domprefixes-load
 */function isMobile(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/BlackBerry/)}function isiPad(){return navigator.platform.indexOf("iPad")!=-1}function isiPhone(){return navigator.platform.indexOf("iPhone")!=-1||navigator.platform.indexOf("iPod")!=-1}function isotopeAnimationEngine(){return jQuery.browser.mozilla||jQuery.browser.msie?"jquery":"css"}function lightboxInit(){screen.width>500&&jQuery("a[rel^='prettyPhoto']").prettyPhoto({social_tools:!1,deeplinking:!1})}function projectFilterInit(){jQuery("#filterNav a").click(function(){var e=jQuery(this).attr("data-filter");jQuery("#projects .thumbs2").isotope({filter:e,hiddenStyle:{opacity:0,scale:1}});if(!jQuery(this).hasClass("selected")){jQuery(this).parents("#filterNav").find(".selected").removeClass("selected");jQuery(this).addClass("selected")}return!1})}function projectThumbInit(){if(!isiPad()&&!isiPhone()){jQuery(".project.small").hover(function(){jQuery(this).hasClass("selected")||jQuery(this).find("img:last").stop().fadeTo("fast",.9)},function(){jQuery(this).hasClass("selected")||jQuery(this).find("img:last").stop().fadeTo("fast",1)});jQuery(".project.small").hover(function(){jQuery(this).find(".title").stop().fadeTo("fast",1);jQuery(this).find("img:last").attr("title","")},function(){jQuery(this).hasClass("selected")||jQuery(this).find(".title").stop().fadeTo("fast",0)})}jQuery(".project.small").css("opacity","1");jQuery(".project.small.ajx").click(function(){jQuery(".thumbs2 .selected .title").hide();jQuery(".thumbs2 .selected").find("img:last").stop().fadeTo("fast",1);jQuery(".thumbs2 .selected").removeClass("selected");jQuery(this).addClass("selected");jQuery(".thumbs2 .selected .title").show();var e=jQuery(this).attr("id").replace(/^project-/,"");jQuery.scrollTo(0,scrollSpeed);processProject(e)})}function processProject(e){jQuery("#projectBox").css("height",jQuery("#projectHolder").outerHeight());if(currentProject!="")jQuery("#projectHolder").fadeOut(transitionSpeed,function(){jQuery(".project.ajax").remove();currentProject="";if(e){loadProject(e);jQuery("#ajaxLoading").fadeIn("fast")}});else if(e){jQuery("#homeMessage").removeClass("withBorder");jQuery("#pageHead").removeClass("withBorder");jQuery("#projectBox").animate({height:emptyProjectBoxHeight},scrollSpeed,function(){jQuery("#ajaxLoading").fadeIn("fast",function(){loadProject(e)})})}e||jQuery("#projectBox").animate({height:0},scrollSpeed,function(){jQuery("#homeMessage").addClass("withBorder");jQuery("#pageHead").addClass("withBorder")})}function loadProject(e){jQuery("#projectHolder").load(MyAjax.ajaxurl,{action:"myajax-submit",slug:e},function(e){})}function waitForMedia(e,t){var n=0,r=0,i=["img"],s=t!="0"?1:0;for(var o=0;o<=i.length;o++)n+=jQuery("#projectHolder "+i[o]).length;if(n>0)for(var o=0;o<=i.length;o++)jQuery("#projectHolder "+i[o]).each(function(){jQuery(this).load(function(){r++;r==n&&jQuery("#ajaxLoading").fadeOut("fast",function(){jQuery(".flexslider").flexslider({slideshowSpeed:t+"000",slideshow:s,animation:"fade",animationLoop:!0,controlNav:!0,directionNav:!0,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1});showProject(e)})})});else jQuery("#ajaxLoading").fadeOut("fast",function(){isiPad()&&jQuery.each(jQuery("iframe"),function(){jQuery(this).attr({src:jQuery(this).attr("src")})});showProject(e)})}function showProject(e){jQuery("#projectHolder").fadeIn(transitionSpeed);currentProject="project-"+e;jQuery("#"+currentProject).addClass("selected");targetHeight=jQuery("#projectHolder").outerHeight();jQuery("#projectHolder").css("height",targetHeight);jQuery("#projectBox").animate({height:jQuery("#projectHolder").outerHeight()},scrollSpeed,function(){jQuery("#projectHolder").css("height","auto");jQuery("#projectBox").css("height","auto")});previousHeight=targetHeight;jQuery("#projectHolder .closeBtn").click(function(){jQuery(".thumbs .selected .title").hide();jQuery(".thumbs .selected").find("img:last").stop().fadeTo("fast",1);jQuery(".thumbs .selected").removeClass("selected");jQuery.scrollTo(0,scrollSpeed);processProject()})}function nextPrevProject(e){var t=e;jQuery(".thumbs .selected .title").hide();jQuery(".thumbs .selected").find("img:last").stop().fadeTo("fast",1);jQuery(".thumbs .selected").removeClass("selected");jQuery("#project-"+t).addClass("selected");jQuery(".thumbs .selected").find(".title").stop().fadeTo("fast",1);jQuery.scrollTo(0,scrollSpeed);processProject(t)}function toggle_panel(){jQuery(".toggle-panel").TogglePanel({ajax:{settings:{timeout:1e3}},hashWatch:!0,pauseMedia:!0,saveState:"session"});jQuery(".collapse-all").on("click",function(){jQuery(".toggle-panel").TogglePanel("collapse")});jQuery(".expand-all").on("click",function(){jQuery(".toggle-panel").TogglePanel("expand")});jQuery(".toggle-all").on("click",function(){jQuery(".toggle-panel").TogglePanel("toggle")})}function tab_panel(){jQuery("#main_toggle .accordion, #main_toggle .tabs").TabsAccordion({hashWatch:!0,pauseMedia:!0,responsiveSwitch:1})}function tab_panel_underlined(){jQuery(".accordion, .tabs").TabsAccordion({hashWatch:!0,pauseMedia:!0,responsiveSwitch:"tablist"})}function horThumbSlider(){jQuery(".video-touchslider").royalSlider({arrowsNav:!1,fadeinLoadedSlide:!0,controlNavigationSpacing:0,controlNavigation:"thumbnails",thumbs:{autoCenter:!0,fitInViewport:!0,orientation:"horizontal",spacing:0},imageScaleMode:"fill",imageAlignCenter:!0,loop:!1,loopRewind:!0,numImagesToPreload:3,video:{autoHideArrows:!0,autoHideControlNav:!1,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?theme=dark&color=white&rel=1&autoplay=1&showinfo=0" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1&amp;color=FF9E15"" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',keyboardNavEnabled:!0,autoHideBlocks:!0},minSlideOffset:10,slidesSpacing:0})}function instagramSlider(){jQuery("#instagram").royalSlider({arrowsNav:!1,fadeinLoadedSlide:!0,controlNavigationSpacing:0,controlNavigation:"thumbnails",thumbs:{autoCenter:!0,fitInViewport:!0,orientation:"horizontal",spacing:0},imageScaleMode:"fill",imageAlignCenter:!0,loop:!1,loopRewind:!0,numImagesToPreload:3,video:{autoHideArrows:!0,autoHideControlNav:!1,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?theme=dark&color=white&rel=1&autoplay=1&showinfo=0" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1&amp;color=FF9E15"" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',keyboardNavEnabled:!0,autoHideBlocks:!0},minSlideOffset:10,slidesSpacing:0})}function video_gallery(){jQuery(".video-gallery").royalSlider({arrowsNav:!1,fadeinLoadedSlide:!0,controlNavigationSpacing:0,controlNavigation:"thumbnails",thumbs:{autoCenter:!1,fitInViewport:!0,orientation:"vertical",spacing:0},imageScaleMode:"fill",imageAlignCenter:!0,loop:!1,loopRewind:!0,numImagesToPreload:3,video:{autoHideArrows:!0,autoHideControlNav:!1,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?theme=dark&color=white&rel=1&autoplay=1&showinfo=0" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1&amp;color=FF9E15"" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',keyboardNavEnabled:!0,autoHideBlocks:!0},autoScaleSlider:!0,autoScaleSliderWidth:1600,autoScaleSliderHeight:500,minSlideOffset:10,arrowsNav:!0,autoPlay:{enabled:!0,delay:4e3},autoScaleSliderHeight:500,slidesSpacing:0})}function fullPageSlidshow(){jQuery("#full_bg_slideshow").royalSlider({arrowsNav:!0,loop:!0,keyboardNavEnabled:!0,controlsInside:!1,imageScaleMode:"fill",arrowsNavAutoHide:!1,autoScaleSlider:!0,controlNavigation:"bullets",thumbsFitInViewport:!1,navigateByClick:!0,randomizeSlides:!0,autoPlay:!0,transitionType:"fade",autoPlay:{pauseOnHover:!1,enabled:!0,delay:4e3},globalCaption:!0})}function fullWidthSlidshow(){jQuery("#homeSlider").royalSlider({imageScaleMode:"fill",allowCSS3OnMacWebkit:!0,fullscreen:!1,loop:!0,thumbs:{firstMargin:!1},autoPlay:{enabled:!0,delay:5e3},thumbsFirstMargin:!1,controlsInside:!0,autoScaleSlider:!0,autoScaleSliderWidth:1600,autoScaleSliderHeight:400,keyboardNavEnabled:!0,minSlideOffset:50,slidesSpacing:0,arrowsNav:!0})}function blockSlider(){jQuery("#block_slider").royalSlider({arrowsNav:!0,imageScaleMode:"fill",arrowsNavAutoHide:!1,fadeinLoadedSlide:!1,controlNavigationSpacing:0,controlNavigation:"bullets",imageAlignCenter:!0,blockLoop:!0,loop:!0,numImagesToPreload:6,transitionType:"fade",keyboardNavEnabled:!0,block:{delay:400}})}function setMobileNav(){jQuery("#mainNav .sf-menu").tinyNav({active:"current-menu-item"})}function jmpressSlideshow(){var e={animation:{transitionDuration:"3.0s"}};jQuery("#jms-slideshow").jmslideshow(jQuery.extend(!0,{jmpressOpts:e},{autoplay:!0,bgColorSpeed:"0.5s",arrows:!0}))}window.Modernizr=function(e,t,n){function r(e){m.cssText=e}function i(e,t){return r(b.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&m[i]!==n)return t=="pfx"?i:!0}return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+E.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+S.join(r+" ")+r).split(" "),a(i,t,n))}var l="2.6.2",c={},h=!0,p=t.documentElement,d="modernizr",v=t.createElement(d),m=v.style,g,y={}.toString,b=" -webkit- -moz- -o- -ms- ".split(" "),w="Webkit Moz O ms",E=w.split(" "),S=w.toLowerCase().split(" "),x={},T={},N={},C=[],k=C.slice,L,A=function(e,n,r,i){var s,o,u,a,f=t.createElement("div"),l=t.body,c=l||t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:d+(r+1),f.appendChild(u);return s=["&#173;",'<style id="s',d,'">',e,"</style>"].join(""),f.id=d,(l?f:c).innerHTML+=s,c.appendChild(f),l||(c.style.background="",c.style.overflow="hidden",a=p.style.overflow,p.style.overflow="hidden",p.appendChild(c)),o=n(f,e),l?f.parentNode.removeChild(f):(c.parentNode.removeChild(c),p.style.overflow=a),!!o},O={}.hasOwnProperty,M;!s(O,"undefined")&&!s(O.call,"undefined")?M=function(e,t){return O.call(e,t)}:M=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=k.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(k.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(k.call(arguments)))};return r}),x.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:A(["@media (",b.join("touch-enabled),("),d,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},x.csstransitions=function(){return f("transition")};for(var _ in x)M(x,_)&&(L=_.toLowerCase(),c[L]=x[_](),C.push((c[L]?"":"no-")+L));return c.addTest=function(e,t){if(typeof e=="object")for(var r in e)M(e,r)&&c.addTest(r,e[r]);else{e=e.toLowerCase();if(c[e]!==n)return c;t=typeof t=="function"?t():t,typeof h!="undefined"&&h&&(p.className+=" "+(t?"":"no-")+e),c[e]=t}return c},r(""),v=g=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t=v[e[p]];return t||(t={},d++,e[p]=d,v[d]=t),t}function s(e,n,r){n||(n=t);if(m)return n.createElement(e);r||(r=i(n));var s;return r.cache[e]?s=r.cache[e].cloneNode():c.test(e)?s=(r.cache[e]=r.createElem(e)).cloneNode():s=r.createElem(e),s.canHaveChildren&&!l.test(e)?r.frag.appendChild(s):s}function o(e,n){e||(e=t);if(m)return e.createDocumentFragment();n=n||i(e);var s=n.frag.cloneNode(),o=0,u=r(),a=u.length;for(;o<a;o++)s.createElement(u[o]);return s}function u(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function a(e){e||(e=t);var r=i(e);return g.shivCSS&&!h&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),m||u(e,r),e}var f=e.html5||{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,c=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h,p="_html5shiv",d=0,v={},m;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,m=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){h=!0,m=!0}})();var g={elements:f.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:f.shivCSS!==!1,supportsUnknownElements:m,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:a,createElement:s,createDocumentFragment:o};e.html5=g,a(t)}(this,t),c._version=l,c._prefixes=b,c._domPrefixes=S,c._cssomPrefixes=E,c.testProp=function(e){return u([e])},c.testAllProps=f,c.testStyles=A,c.prefixed=function(e,t,n){return t?f(e,t,n):f(e,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+C.join(" "):""),c}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};(function(e,t,n){function r(e){var t=document.documentElement.style,n;if(typeof t[e]=="string")return e;e=i(e);for(var r=0,o=s.length;r<o;r++){n=s[r]+e;if(typeof t[n]=="string")return n}}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}var s="Moz Webkit Khtml O Ms".split(" "),o=r("transform"),u={csstransforms:function(){return!!o},csstransforms3d:function(){var e=!!r("perspective");if(e){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),i="@media ("+n.join("transform-3d),(")+"modernizr)",s=t("<style>"+i+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),o=t('<div id="modernizr" />').appendTo("html");e=o.height()===3,o.remove(),s.remove()}return e},csstransitions:function(){return!!r("transitionProperty")}};if(e.Modernizr)for(var a in u)Modernizr.hasOwnProperty(a)||Modernizr.addTest(a,u[a]);else e.Modernizr=function(){var e={_version:"1.6ish: miniModernizr for Isotope"},n=" ",r,i;for(i in u)r=u[i](),e[i]=r,n+=" "+(r?"":"no-")+i;t("html").addClass(n);return e}();if(Modernizr.csstransforms){var f=Modernizr.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},l=function(e,n,r){var i=t.data(e,"isoTransform")||{},s={},u,a={},l;s[n]=r,t.extend(i,s);for(u in i)l=i[u],a[u]=f[u](l);var c=a.translate||"",h=a.scale||"",p=c+h;t.data(e,"isoTransform",i),e.style[o]=p};t.cssNumber.scale=!0,t.cssHooks.scale={set:function(e,t){l(e,"scale",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.scale?r.scale:1}},t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)},t.cssNumber.translate=!0,t.cssHooks.translate={set:function(e,t){l(e,"translate",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.translate?r.translate:[0,0]}}}var c=t.event,h;c.special.smartresize={setup:function(){t(this).bind("resize",c.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",c.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize",h&&clearTimeout(h),h=setTimeout(function(){jQuery.event.handle.apply(n,r)},t==="execAsap"?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Isotope=function(e,n){this.element=t(n),this._create(e),this._init()};var p=["overflow","position","width","height"];t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:Modernizr.csstransforms&&!t.browser.opera?{opacity:0,scale:.001}:{opacity:0},visibleStyle:Modernizr.csstransforms&&!t.browser.opera?{opacity:1,scale:1}:{opacity:1},animationEngine:t.browser.opera?"jquery":"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},t.Isotope.prototype={_create:function(n){this.options=t.extend({},t.Isotope.settings,n),this.styleQueue=[],this.elemCount=0;var r=this.element[0].style;this.originalStyle={};for(var i=0,s=p.length;i<s;i++){var o=p[i];this.originalStyle[o]=r[o]||""}this.element.css({overflow:"hidden",position:"relative"}),this._updateAnimationEngine(),this._updateUsingTransforms();var u={"original-order":function(e,t){return t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,u),this.reloadItems();var a=t(document.createElement("div")).prependTo(this.element);this.offset=a.position(),a.remove();var f=this;setTimeout(function(){f.element.addClass(f.options.containerClass)},0),this.options.resizable&&t(e).bind("smartresize.isotope",function(){f.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,n=t?e.filter(t).add(e.find(t)):e,r={position:"absolute"};this.usingTransforms&&(r.left=0,r.top=0),n.css(r).addClass(this.options.itemClass),this.updateSortData(n,!0);return n},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var n;for(var r in e)n="_update"+i(r),this[n]&&this[n]()}},_updateAnimationEngine:function(){var e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(e){case"css":case"none":this.isUsingJQueryAnimation=!1;break;case"jquery":this.isUsingJQueryAnimation=!0;break;default:this.isUsingJQueryAnimation=!Modernizr.csstransitions}this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){this.usingTransforms=this.options.transformsEnabled&&Modernizr.csstransforms&&Modernizr.csstransitions&&!this.isUsingJQueryAnimation,this.getPositionStyles=this.usingTransforms?this._translate:this._positionAbs},_filter:function(e){var t=this.options.filter===""?"*":this.options.filter;if(!t)return e;var n=this.options.hiddenClass,r="."+n,i=e.filter(r),s=i;if(t!=="*"){s=i.filter(t);var o=e.not(r).not(t).addClass(n);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}this.styleQueue.push({$el:s,style:this.options.visibleStyle}),s.removeClass(n);return e.filter(t)},updateSortData:function(e,n){var r=this,i=this.options.getSortData,s,o;e.each(function(){s=t(this),o={};for(var e in i)o[e]=i[e](s,r);t.data(this,"isotope-sort-data",o),n&&r.elemCount++})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,n=this.options.sortAscending?1:-1,r=function(r,i){var s=t(r,e),o=t(i,e);s===o&&e!=="original-order"&&(s=t(r,"original-order"),o=t(i,"original-order"));return(s>o?1:s<o?-1:0)*n};this.$filteredAtoms.sort(r)},_getSorter:function(e,n){return t.data(e,"isotope-sort-data")[n]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,n){t+=this.offset.left,n+=this.offset.top;var r=this.getPositionStyles(t,n);this.styleQueue.push({$el:e,style:r}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:n})},layout:function(e,t){var n=this.options.layoutMode;this["_"+n+"Layout"](e);if(this.options.resizesContainer){var r=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:r})}this._processStyleQueue(),t&&t.call(e),this.isLaidOut=!0},_processStyleQueue:function(){var e=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",n=this.options.animationOptions,r=this._isInserting&&this.isUsingJQueryAnimation,i;t.each(this.styleQueue,function(t,s){i=r&&s.$el.hasClass("no-transition")?"css":e,s.$el[i](s.style,n)}),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var n=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(n),t&&t(n)},insert:function(e,t){this.element.append(e);var n=this;this.addItems(e,function(e){var r=n._filter(e,!0);n._addHideAppended(r),n._sort(),n.reLayout(),n._revealAppended(r,t)})},appended:function(e,t){var n=this;this.addItems(e,function(e){n._addHideAppended(e),n.layout(e),n._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var n=this;setTimeout(function(){e.removeClass("no-transition"),n.styleQueue.push({$el:e,style:n.options.visibleStyle}),n._processStyleQueue(),delete n._isInserting,t&&t(e)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e),e.remove()},shuffle:function(){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout()},destroy:function(){var n=this.usingTransforms;this.$allAtoms.removeClass(this.options.hiddenClass+" "+this.options.itemClass).each(function(){this.style.position="",this.style.top="",this.style.left="",this.style.opacity="",n&&(this.style[o]="")});var r=this.element[0].style;for(var i=0,s=p.length;i<s;i++){var u=p[i];r[u]=this.originalStyle[u]}this.element.unbind(".isotope").undelegate("."+this.options.hiddenClass,"click").removeClass(this.options.containerClass).removeData("isotope"),t(e).unbind(".isotope")},_getSegments:function(e){var t=this.options.layoutMode,n=e?"rowHeight":"columnWidth",r=e?"height":"width",s=e?"rows":"cols",o=this.element[r](),u,a=this.options[t]&&this.options[t][n]||this.$filteredAtoms["outer"+i(r)](!0)||o;u=Math.floor(o/a),u=Math.max(u,1),this[t][s]=u,this[t][n]=a},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,n=e?"rows":"cols",r=this[t][n];this._getSegments(e);return this[t][n]!==r},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;this.masonry.colYs=[];while(e--)this.masonry.colYs.push(0)},_masonryLayout:function(e){var n=this,r=n.masonry;e.each(function(){var e=t(this),i=Math.ceil(e.outerWidth(!0)/r.columnWidth);i=Math.min(i,r.cols);if(i===1)n._masonryPlaceBrick(e,r.colYs);else{var s=r.cols+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.colYs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryPlaceBrick(e,o)}})},_masonryPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=this.masonry.columnWidth*r,u=n;this._pushPosition(e,o,u);var a=n+e.outerHeight(!0),f=this.masonry.cols+1-s;for(i=0;i<f;i++)this.masonry.colYs[r+i]=a},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var n=this,r=this.element.width(),i=this.fitRows;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.x!==0&&s+i.x>r&&(i.x=0,i.y=i.height),n._pushPosition(e,i.x,i.y),i.height=Math.max(i.y+o,i.height),i.x+=s})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var n=this,r=this.cellsByRow;e.each(function(){var e=t(this),i=r.index%r.cols,s=~~(r.index/r.cols),o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,0,n.straightDown.y),n.straightDown.y+=r.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(e--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var n=this,r=n.masonryHorizontal;e.each(function(){var e=t(this),i=Math.ceil(e.outerHeight(!0)/r.rowHeight);i=Math.min(i,r.rows);if(i===1)n._masonryHorizontalPlaceBrick(e,r.rowXs);else{var s=r.rows+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.rowXs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryHorizontalPlaceBrick(e,o)}})},_masonryHorizontalPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=n,u=this.masonryHorizontal.rowHeight*r;this._pushPosition(e,o,u);var a=n+e.outerWidth(!0),f=this.masonryHorizontal.rows+1-s;for(i=0;i<f;i++)this.masonryHorizontal.rowXs[r+i]=a},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var n=this,r=this.element.height(),i=this.fitColumns;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.y!==0&&o+i.y>r&&(i.x=i.width,i.y=0),n._pushPosition(e,i.x,i.y),i.width=Math.max(i.x+s,i.width),i.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var n=this,r=this.cellsByColumn;e.each(function(){var e=t(this),i=~~(r.index/r.rows),s=r.index%r.rows,o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,n.straightAcross.x,0),n.straightAcross.x+=r.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},t.fn.imagesLoaded=function(e){function t(){--o<=0&&this.src!==u&&(setTimeout(r),s.unbind("load error",t))}function r(){e.call(i,s)}var i=this,s=i.find("img").add(i.filter("img")),o=s.length,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";o||r(),s.bind("load error",t).each(function(){if(this.complete||this.complete===n){var e=this.src;this.src=u,this.src=e}});return i};var d=function(e){this.console&&console.error(e)};t.fn.isotope=function(e){if(typeof e=="string"){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=t.data(this,"isotope");if(!r)d("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'");else{if(!t.isFunction(r[e])||e.charAt(0)==="_"){d("no such method '"+e+"' for isotope instance");return}r[e].apply(r,n)}})}else this.each(function(){var n=t.data(this,"isotope");n?(n.option(e),n._init
()):t.data(this,"isotope",new t.Isotope(e,this))});return this}})(window,jQuery);(function(e){function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1};t.window=function(t){return e(window)._scrollable()};e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||r.compatMode=="BackCompat"?r.body:r.documentElement})};e.fn.scrollTo=function(r,i,s){if(typeof i=="object"){s=i;i=0}typeof s=="function"&&(s={onAfter:s});r=="max"&&(r=9e9);s=e.extend({},t.defaults,s);i=i||s.speed||s.duration;s.queue=s.queue&&s.axis.length>1;s.queue&&(i/=2);s.offset=n(s.offset);s.over=n(s.over);return this._scrollable().each(function(){function h(e){u.animate(l,i,s.easing,e&&function(){e.call(this,r,s)})}var o=this,u=e(o),a=r,f,l={},c=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);case"object":if(a.is||a.style)f=(a=e(a)).offset()}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),p="scroll"+r,d=o[p],v=t.max(o,n);if(f){l[p]=f[i]+(c?0:d-u.offset()[i]);if(s.margin){l[p]-=parseInt(a.css("margin"+r))||0;l[p]-=parseInt(a.css("border"+r+"Width"))||0}l[p]+=s.offset[i]||0;s.over[i]&&(l[p]+=a[n=="x"?"width":"height"]()*s.over[i])}else{var m=a[i];l[p]=m.slice&&m.slice(-1)=="%"?parseFloat(m)/100*v:m}/^\d+$/.test(l[p])&&(l[p]=l[p]<=0?0:Math.min(l[p],v));if(!e&&s.queue){d!=l[p]&&h(s.onAfterFirst);delete l[p]}});h(s.onAfter)}).end()};t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}})(jQuery);(function(e,t,n){"use strict";e.DropDown=function(t,n){this.$el=e(n);this._init(t)};e.DropDown.defaults={speed:300,easing:"ease",gutter:0,stack:!0,delay:0,random:!1,rotated:!1,slidingIn:!1,onOptionSelect:function(e){return!1}};e.DropDown.prototype={_init:function(t){this.options=e.extend(!0,{},e.DropDown.defaults,t);this._layout();this._initEvents()},_layout:function(){var t=this;this.minZIndex=1e3;var r=this._transformSelect();this.opts=this.listopts.children("li");this.optsCount=this.opts.length;this.size={width:this.dd.width(),height:this.dd.height()};var i=this.$el.attr("name"),s=this.$el.attr("id"),o=i!==n?i:s!==n?s:"cd-dropdown-"+(new Date).getTime();this.inputEl=e('<input type="hidden" name="'+o+'" value="'+r+'"></input>').insertAfter(this.selectlabel);this.selectlabel.css("z-index",this.minZIndex+this.optsCount);this._positionOpts();Modernizr.csstransitions&&setTimeout(function(){t.opts.css("transition","all "+t.options.speed+"ms "+t.options.easing)},25)},_transformSelect:function(){var t="",r="",i=-1;this.$el.children("option").each(function(){var s=e(this),o=isNaN(s.attr("value"))?s.attr("value"):Number(s.attr("value")),u=s.attr("class"),a=s.attr("selected"),f=s.text();o!==-1&&(t+=u!==n?'<li data-value="'+o+'"><span class="'+u+'">'+f+"</span></li>":'<li data-value="'+o+'"><span>'+f+"</span></li>");if(a){r=f;i=o}});this.listopts=e("<ul/>").append(t);this.selectlabel=e("<span/>").append(r);this.dd=e('<div class="cd-dropdown"/>').append(this.selectlabel,this.listopts).insertAfter(this.$el);this.$el.remove();return i},_positionOpts:function(t){var n=this;this.listopts.css("height","auto");this.opts.each(function(t){e(this).css({zIndex:n.minZIndex+n.optsCount-1-t,top:n.options.slidingIn?(t+1)*(n.size.height+n.options.gutter):0,left:0,marginLeft:n.options.slidingIn?t%2===0?n.options.slidingIn:-n.options.slidingIn:0,opacity:n.options.slidingIn?0:1,transform:"none"})});this.options.slidingIn||this.opts.eq(this.optsCount-1).css({top:this.options.stack?9:0,left:this.options.stack?4:0,width:this.options.stack?this.size.width-8:this.size.width,transform:"none"}).end().eq(this.optsCount-2).css({top:this.options.stack?6:0,left:this.options.stack?2:0,width:this.options.stack?this.size.width-4:this.size.width,transform:"none"}).end().eq(this.optsCount-3).css({top:this.options.stack?3:0,left:0,transform:"none"})},_initEvents:function(){var t=this;this.selectlabel.on("mousedown.dropdown",function(e){t.opened?t.close():t.open();return!1});this.opts.on("click.dropdown",function(){if(t.opened){var n=e(this);t.options.onOptionSelect(n);t.inputEl.val(n.data("value"));t.selectlabel.html(n.html());t.close()}})},open:function(){var t=this;this.dd.toggleClass("cd-active");this.listopts.css("height",(this.optsCount+1)*(this.size.height+this.options.gutter));this.opts.each(function(n){e(this).css({opacity:1,top:t.options.rotated?t.size.height+t.options.gutter:(n+1)*(t.size.height+t.options.gutter),left:t.options.random?Math.floor(Math.random()*11-5):0,width:t.size.width,marginLeft:0,transform:t.options.random?"rotate("+Math.floor(Math.random()*11-5)+"deg)":t.options.rotated?t.options.rotated==="right"?"rotate(-"+n*5+"deg)":"rotate("+n*5+"deg)":"none",transitionDelay:t.options.delay&&Modernizr.csstransitions?t.options.slidingIn?n*t.options.delay+"ms":(t.optsCount-1-n)*t.options.delay+"ms":0})});this.opened=!0},close:function(){var t=this;this.dd.toggleClass("cd-active");this.options.delay&&Modernizr.csstransitions&&this.opts.each(function(n){e(this).css({"transition-delay":t.options.slidingIn?(t.optsCount-1-n)*t.options.delay+"ms":n*t.options.delay+"ms"})});this._positionOpts(!0);this.opened=!1}};e.fn.dropdown=function(t){var n=e.data(this,"dropdown");if(typeof t=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){n[t].apply(n,r)})}else this.each(function(){n?n._init():n=e.data(this,"dropdown",new e.DropDown(t,this))});return n}})(jQuery,window);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return t<i/2?jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n:jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});(function(e){function t(){url=location.href;hashtag=url.indexOf("#!")!=-1?decodeURI(url.substring(url.indexOf("#!")+2,url.length)):!1;return hashtag}function n(){if(typeof theRel=="undefined")return;location.hash="!"+theRel+"/"+rel_index+"/"}function r(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),i=r.exec(t);return i==null?"":i[1]}e.prettyPhoto={version:"3.1.2"};e.fn.prettyPhoto=function(i){function m(){e(".pp_loaderIcon").hide();projectedTop=scroll_pos.scrollTop+(p/2-u.containerHeight/2);projectedTop<0&&(projectedTop=0);$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find(".pp_content").animate({height:u.contentHeight,width:u.contentWidth},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:d/2-u.containerWidth/2,width:u.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(u.height).width(u.width);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);isSet&&E(pp_images[set_position])=="image"?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide();u.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide();settings.autoplay_slideshow&&!v&&!a&&e.prettyPhoto.startSlideshow();settings.deeplinking&&n();settings.changepicturecallback();a=!0});N()}function g(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show();t()})}function y(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function b(e,t){resized=!1;w(e,t);imageWidth=e,imageHeight=t;if((h>d||c>p)&&doresize&&settings.allow_resize&&!o){resized=!0,fitting=!1;while(!fitting){if(h>d){imageWidth=d-200;imageHeight=t/e*imageWidth}else if(c>p){imageHeight=p-200;imageWidth=e/t*imageHeight}else fitting=!0;c=imageHeight,h=imageWidth}w(imageWidth,imageHeight);(h>d||c>p)&&b(h,c)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(c),containerWidth:Math.floor(h)+settings.horizontal_padding*2,contentHeight:Math.floor(f),contentWidth:Math.floor(l),resized:resized}}function w(t,n){t=parseFloat(t);n=parseFloat(n);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(t);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4});detailsHeight+=$pp_details.height();detailsHeight=detailsHeight<=34?36:detailsHeight;e.browser.msie&&e.browser.version==7&&(detailsHeight+=8);$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(t);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4});titleHeight+=$pp_title.height();$pp_title.remove();f=n+detailsHeight;l=t;c=f+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();h=t}function E(e){return e.match(/youtube\.com\/watch/i)?"youtube":e.match(/vimeo\.com/i)?"vimeo":e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":e.substr(0,1)=="#"?"inline":"image"}function S(){if(doresize&&typeof $pp_pic_holder!="undefined"){scroll_pos=x();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=p/2+scroll_pos.scrollTop-contentHeight/2;projectedTop<0&&(projectedTop=0);if(contentHeight>p)return;$pp_pic_holder.css({top:projectedTop,left:d/2+scroll_pos.scrollLeft-contentwidth/2})}}function x(){if(self.pageYOffset)return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};if(document.documentElement&&document.documentElement.scrollTop)return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};if(document.body)return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}function T(){p=e(window).height(),d=e(window).width();typeof $pp_overlay!="undefined"&&$pp_overlay.height(e(document).height()).width(d)}function N(){if(isSet&&settings.overlay_gallery&&E(pp_images[set_position])=="image"&&settings.ie6_fallback&&(!e.browser.msie||parseInt(e.browser.version)!=6)){itemWidth=57;navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:30;itemsPerPage=Math.floor((u.containerWidth-100-navWidth)/itemWidth);itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()}else $pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show();galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected");goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage;e.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")}else $pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function C(t){settings.markup=settings.markup.replace("{pp_social}",settings.social_tools?settings.social_tools:"");e("body").append(settings.markup);$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var n=0;n<pp_images.length;n++){if(!pp_images[n].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname="default";img_src=""}else{classname="";img_src=pp_images[n]}toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>"}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){e.prettyPhoto.changeGalleryPage("next");e.prettyPhoto.stopSlideshow();return!1});$pp_gallery.find(".pp_arrow_previous").click(function(){e.prettyPhoto.changeGalleryPage("previous");e.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=57;$pp_gallery_li.each(function(t){e(this).find("a").click(function(){e.prettyPhoto.changePage(t);e.prettyPhoto.stopSlideshow();return!1})})}if(settings.slideshow){$pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>');$pp_pic_holder.find(".pp_nav .pp_play").click(function(){e.prettyPhoto.startSlideshow();return!1})}$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){settings.modal||e.prettyPhoto.close()});e("a.pp_close").bind("click",function(){e.prettyPhoto.close();return!1});e("a.pp_expand").bind("click",function(t){if(e(this).hasClass("pp_expand")){e(this).removeClass("pp_expand").addClass("pp_contract");doresize=!1}else{e(this).removeClass("pp_contract").addClass("pp_expand");doresize=!0}g(function(){e.prettyPhoto.open()});return!1});$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){e.prettyPhoto.changePage("previous");e.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){e.prettyPhoto.changePage("next");e.prettyPhoto.stopSlideshow();return!1});S()}i=jQuery.extend({animation_speed:"fast",slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"><div class="ppt">&nbsp;</div><div class="pp_top"><div class="pp_left"></div><div class="pp_middle"></div><div class="pp_right"></div></div><div class="pp_content_container"><div class="pp_left"><div class="pp_right"><div class="pp_content"><div class="pp_loaderIcon"></div><div class="pp_fade"><a href="#" class="pp_expand" title="Expand the image">Expand</a><div class="pp_hoverContainer"><a class="pp_next" href="#">next</a><a class="pp_previous" href="#">previous</a></div><div id="pp_full_res"></div><div class="pp_details"><div class="pp_nav"><a href="#" class="pp_arrow_previous">Previous</a><p class="currentTextHolder">0/0</p><a href="#" class="pp_arrow_next">Next</a></div><p class="pp_description"></p>{pp_social}<a class="pp_close" href="#">Close</a></div></div></div></div></div></div><div class="pp_bottom"><div class="pp_left"></div><div class="pp_middle"></div><div class="pp_right"></div></div></div><div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"><a href="#" class="pp_arrow_previous">Previous</a><div><ul>{gallery}</ul></div><a href="#" class="pp_arrow_next">Next</a></div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="pp_social"><div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="http://www.facebook.com/plugins/like.php?locale=en_US&href='+location.href+'&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div></div>'},i);var s=this,o=!1,u,a,f,l,c,h,p=e(window).height(),d=e(window).width(),v;doresize=!0,scroll_pos=x();e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){S();T()});i.keyboard_shortcuts&&e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous");t.preventDefault();break;case 39:e.prettyPhoto.changePage("next");t.preventDefault();break;case 27:settings.modal||e.prettyPhoto.close();t.preventDefault()}});e.prettyPhoto.initialize=function(){settings=i;settings.theme=="pp_default"&&(settings.horizontal_padding=16);settings.ie6_fallback&&e.browser.msie&&parseInt(e.browser.version)==6&&(settings.theme="light_square");theRel=e(this).attr("rel");galleryRegExp=/\[(?:.*)\]/;isSet=galleryRegExp.exec(theRel)?!0:!1;pp_images=isSet?jQuery.map(s,function(t,n){if(e(t).attr("rel").indexOf(theRel)!=-1)return e(t).attr("href")}):e.makeArray(e(this).attr("href"));pp_titles=isSet?jQuery.map(s,function(t,n){if(e(t).attr("rel").indexOf(theRel)!=-1)return e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):""}):e.makeArray(e(this).find("img").attr("alt"));pp_descriptions=isSet?jQuery.map(s,function(t,n){if(e(t).attr("rel").indexOf(theRel)!=-1)return e(t).attr("title")?e(t).attr("title"):""}):e.makeArray(e(this).attr("title"));set_position=jQuery.inArray(e(this).attr("href"),pp_images);rel_index=isSet?set_position:e("a[rel^='"+theRel+"']").index(e(this));C(this);settings.allow_resize&&e(window).bind("scroll.prettyphoto",function(){S()});e.prettyPhoto.open();return!1};e.prettyPhoto.open=function(t){if(typeof settings=="undefined"){settings=i;e.browser.msie&&e.browser.version==6&&(settings.theme="light_square");pp_images=e.makeArray(arguments[0]);pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray("");pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray("");isSet=pp_images.length>1?!0:!1;set_position=0;C(t.target)}e.browser.msie&&e.browser.version==6&&e("select").css("visibility","hidden");settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden");y(e(pp_images).size());e(".pp_loaderIcon").show();$ppt.is(":hidden")&&$ppt.css("opacity",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size());pp_descriptions[set_position]!=""?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide();movie_width=parseFloat(r("width",pp_images[set_position]))?r("width",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(r("height",pp_images[set_position]))?r("height",pp_images[set_position]):settings.default_height.toString();o=!1;if(movie_height.indexOf("%")!=-1){movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150);o=!0}if(movie_width.indexOf("%")!=-1){movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150);o=!0}$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;");imgPreloader="";skipInjection=!1;switch(E(pp_images[set_position])){case"image":imgPreloader=new Image;nextImage=new Image;isSet&&set_position<e(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]);prevImage=new Image;isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){u=b(imgPreloader.width,imgPreloader.height);m()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");e.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case"youtube":u=b(movie_width,movie_height);movie="http://www.youtube.com/embed/"+r("v",pp_images[set_position]);r("rel",pp_images[set_position])?movie+="?rel="+r("rel",pp_images[set_position]):movie+="?rel=1";settings.autoplay&&(movie+="&autoplay=1");toInject=settings.iframe_markup.replace(/{width}/g,u.width).replace(/{height}/g,u.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":u=b(movie_width,movie_height);movie_id=pp_images[set_position];var t=/http:\/\/(www\.)?vimeo.com\/(\d+)/,n=movie_id.match(t);movie="http://player.vimeo.com/video/"+n[2]+"?title=0&amp;byline=0&amp;portrait=0";settings.autoplay&&(movie+="&autoplay=1;");vimeo_width=u.width+"/embed/?moog_width="+u.width;toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,u.height).replace(/{path}/g,movie);break;case"quicktime":u=b(movie_width,movie_height);u.height+=15;u.contentHeight+=15;u.containerHeight+=15;toInject=settings.quicktime_markup.replace(/{width}/g,u.width).replace(/{height}/g,u.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":u=b(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,u.width).replace(/{height}/g,u.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":u=b(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,u.width).replace(/{height}/g,u.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1;u=b(movie_width,movie_height);doresize=!0;skipInjection=!0;e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;m()});break;case"custom":u=b(movie_width,movie_height);toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show();doresize=!1;u=b(e(myClone).width(),e(myClone).height());doresize=!0;e(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}if(!imgPreloader&&!skipInjection){$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;m()}});return!1};e.prettyPhoto.changePage=function(t){currentGalleryPage=0;if(t=="previous"){set_position--;set_position<0&&(set_position=e(pp_images).size()-1)}else if(t=="next"){set_position++;set_position>e(pp_images).size()-1&&(set_position=0)}else set_position=t;rel_index=set_position;doresize||(doresize=!0);e(".pp_contract").removeClass("pp_contract").addClass("pp_expand");g(function(){e.prettyPhoto.open()})};e.prettyPhoto.changeGalleryPage=function(e){if(e=="next"){currentGalleryPage++;currentGalleryPage>totalPage&&(currentGalleryPage=0)}else if(e=="previous"){currentGalleryPage--;currentGalleryPage<0&&(currentGalleryPage=totalPage)}else currentGalleryPage=e;slide_speed=e=="next"||e=="previous"?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};e.prettyPhoto.startSlideshow=function(){if(typeof v=="undefined"){$pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){e.prettyPhoto.stopSlideshow();return!1});v=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)}else e.prettyPhoto.changePage("next")};e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){e.prettyPhoto.startSlideshow();return!1});clearInterval(v);v=undefined};e.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;e.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find("object,embed").css("visibility","hidden");e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){e.browser.msie&&e.browser.version==6&&e("select").css("visibility","visible");settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible");e(this).remove();e(window).unbind("scroll.prettyphoto");settings.callback();doresize=!0;a=!1;delete settings})};if(!pp_alreadyInitialized&&t()){pp_alreadyInitialized=!0;hashIndex=t();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf("/"));setTimeout(function(){e("a[rel^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)}return this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)}})(jQuery);var pp_alreadyInitialized=!1;(function(e){function t(t,n){var r=navigator.userAgent.toLowerCase(),i=e.browser,s=this,o=i.webkit||i.chrome;s.isIPAD=r.match(/(ipad)/);for(var u=document.createElement("div").style,a=["webkit","Moz","ms","O"],f="",c=0,h,r=0;r<a.length;r++)h=a[r],!f&&h+"Transform"in u&&(f=h),h=h.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=window.setTimeout(function(){e(t+n)},n);c=t+n;return r});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)});s.slider=e(t);s.ev=e(s);s._a=e(document);s.st=e.extend({},e.fn.royalSlider.defaults,n);s._b=s.st.transitionSpeed;s._c=0;s.st.allowCSS3&&(!o||s.st.allowCSS3OnWebkit)&&(r=f+(f?"T":"t"),s._d=r+"ransform"in u&&r+"ransition"in u,s._d&&(s._e=f+(f?"P":"p")+"erspective"in u));f=f.toLowerCase();s._f="-"+f+"-";s._g="vertical"===s.st.slidesOrientation?!1:!0;s._h=s._g?"left":"top";s._i=s._g?"width":"height";s._j=-1;s._k="fade"===s.st.transitionType?!1:!0;s._k||(s.st.sliderDrag=!1,s._l=10);s._m="z-index:0; display:none; opacity:0;";s._n=0;s._o=0;s._p=0;e.each(e.rsModules,function(e,t){t.call(s)});s.slides=[];s._q=0;(s.st.slides?e(s.st.slides):s.slider.children().detach()).each(function(){s._r(this,!0)});s.st.randomizeSlides&&s.slides.sort(function(){return.5-Math.random()});s.numSlides=s.slides.length;s._s();s.st.startSlideId?s.st.startSlideId>s.numSlides-1&&(s.st.startSlideId=s.numSlides-1):s.st.startSlideId=0;s.staticSlideId=s.currSlideId=s._t=s.st.startSlideId;s.currSlide=s.slides[s.currSlideId];s._u=0;s.msTouch=!1;s.slider.addClass((s._g?"rsHor":"rsVer")+(s._k?"":" rsFade"));u='<div class="rsOverflow"><div class="rsContainer">';s.slidesSpacing=s.st.slidesSpacing;s._v=(s._g?s.slider.width():s.slider.height())+s.st.slidesSpacing;s._w=Boolean(0<s._x);1>=s.numSlides&&(s._y=!1);s._z=s._y&&s._k?2===s.numSlides?1:2:0;s._a1=6>s.numSlides?s.numSlides:6;s._b1=0;s._c1=0;s.slidesJQ=[];for(r=0;r<s.numSlides;r++)s.slidesJQ.push(e('<div style="'+(s._k?"":r!==s.currSlideId?s._m:"z-index:0;")+'" class="rsSlide "></div>'));s._d1=u=e(u+"</div></div>");r=function(){s.st.sliderDrag&&(s._e1=!0,i.msie||i.opera?s._f1=s._g1="move":i.mozilla?(s._f1="-moz-grab",s._g1="-moz-grabbing"):o&&-1!=navigator.platform.indexOf("Mac")&&(s._f1="-webkit-grab",s._g1="-webkit-grabbing"),s._h1())};f=function(e,t,n,r,i){s._i1=e+t+".rs";s._j1=e+n+".rs";s._k1=e+r+".rs";i&&(s._l1=e+i+".rs")};s.msEnabled=window.navigator.msPointerEnabled;s.msEnabled?(s.msTouch=Boolean(1<window.navigator.msMaxTouchPoints),s.hasTouch=!1,s._m1=.2,f("MSPointer","Down","Move","Up","Cancel"),r()):"ontouchstart"in window||"createTouch"in document?(s.hasTouch=!0,f("touch","start","move","end","cancel"),s._m1=.5,s.st.sliderTouch&&(s._e1=!0)):(s.hasTouch=!1,s._m1=.2,r(),f("mouse","down","move","up","up"));s.slider.html(u);s._n1=s.st.controlsInside?s._d1:s.slider;s._o1=s._d1.children(".rsContainer");s.msEnabled&&s._o1.css("-ms-touch-action",s._g?"pan-y":"pan-x");s._p1=e('<div class="rsPreloader"></div>'
);r=s._o1.children(".rsSlide");s._q1=s.slidesJQ[s.currSlideId];s._r1=0;s._d?(s._s1="transition-property",s._t1="transition-duration",s._u1="transition-timing-function",s._v1=s._w1=s._f+"transform",s._e?(o&&s.slider.addClass("rsWebkit3d"),s._x1="translate3d(",s._y1="px, ",s._z1="px, 0px)"):(s._x1="translate(",s._y1="px, ",s._z1="px)"),s._k?s._o1[s._f+s._s1]=s._f+"transform":(u={},u[s._f+s._s1]="opacity",u[s._f+s._t1]=s.st.transitionSpeed+"ms",u[s._f+s._u1]=s.st.css3easeInOut,r.css(u))):(s._w1="left",s._v1="top");var p;e(window).on("resize.rs",function(){p&&clearTimeout(p);p=setTimeout(function(){s.updateSliderSize()},50)});s.ev.trigger("rsAfterPropsSetup");s.updateSliderSize();s.st.keyboardNavEnabled&&s._a2();s.st.arrowsNavHideOnTouch&&(s.hasTouch||s.msTouch)&&(s.st.arrowsNav=!1);s.st.arrowsNav&&(r=s._n1,e('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(r),s._b2=r.children(".rsArrowLeft").click(function(e){e.preventDefault();s.prev()}),s._c2=r.children(".rsArrowRight").click(function(e){e.preventDefault();s.next()}),s.st.arrowsNavAutoHide&&!s.hasTouch&&(s._b2.addClass("rsHidden"),s._c2.addClass("rsHidden"),r.one("mousemove.arrowshover",function(){s._b2.removeClass("rsHidden");s._c2.removeClass("rsHidden")}),r.hover(function(){s._d2||(s._b2.removeClass("rsHidden"),s._c2.removeClass("rsHidden"))},function(){s._d2||(s._b2.addClass("rsHidden"),s._c2.addClass("rsHidden"))})),s.ev.on("rsOnUpdateNav",function(){s._e2()}),s._e2());s._e1?s._o1.on(s._i1,function(e){s._f2(e)}):s.dragSuccess=!1;var d=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];s._o1.click(function(t){if(!s.dragSuccess){var n=e(t.target).attr("class");if(-1!==e.inArray(n,d)&&s.toggleVideo())return!1;if(s.st.navigateByClick&&!s._g2){if(e(t.target).closest(".rsNoDrag",s._q1).length)return!0;s._h2(t)}s.ev.trigger("rsSlideClick")}}).on("click.rs","a",function(){if(s.dragSuccess)return!1;s._g2=!0;setTimeout(function(){s._g2=!1},3)});s.ev.trigger("rsAfterInit")}e.rsModules||(e.rsModules={});t.prototype={_h2:function(e){e=e[this._g?"pageX":"pageY"]-this._i2;e>=this._p?this.next():0>e&&this.prev()},_s:function(){var e;e=this.st.numImagesToPreload;if(this._y=this.st.loop)2===this.numSlides?(this._y=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._y=!1);this._y&&0<e&&(4>=this.numSlides?e=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(e=Math.floor((this.numSlides-1)/2)));this._x=e},_r:function(t,n){function r(e,t){t?o.images.push(e.attr(t)):o.images.push(e.text());if(a){a=!1;o.caption="src"===t?e.attr("alt"):e.contents();o.image=o.images[0];o.videoURL=e.attr("data-rsVideo");var n=e.attr("data-rsw"),r=e.attr("data-rsh");"undefined"!=typeof n&&!1!==n&&"undefined"!=typeof r&&!1!==r?(o.iW=parseInt(n),o.iH=parseInt(r)):i.st.imgWidth&&i.st.imgHeight&&(o.iW=i.st.imgWidth,o.iH=i.st.imgHeight)}}var i=this,s,o={},u,a=!0;t=e(t);i._j2=t;i.ev.trigger("rsBeforeParseNode",[t,o]);if(!o.stopParsing)return t=i._j2,o.id=i._q,o.contentAdded=!1,i._q++,o.images=[],o.isBig=!1,o.hasCover||(t.hasClass("rsImg")?(u=t,s=!0):(u=t.find(".rsImg"),u.length&&(s=!0)),s?(o.bigImage=u.eq(0).attr("data-rsBigImg"),u.each(function(){var t=e(this);t.is("a")?r(t,"href"):t.is("img")?r(t,"src"):r(t)})):t.is("img")&&(t.addClass("rsImg rsMainSlideImage"),r(t,"src"))),u=t.find(".rsCaption"),u.length&&(o.caption=u.remove()),o.content=t,i.ev.trigger("rsAfterParseNode",[t,o]),n&&i.slides.push(o),0===o.images.length&&(o.isLoaded=!0,o.isRendered=!1,o.isLoading=!1,o.images=null),o},_a2:function(){var e=this,t,n,r=function(t){37===t?e.prev():39===t&&e.next()};e._a.on("keydown.rskb",function(i){!e._k2&&(n=i.keyCode,(37===n||39===n)&&!t)&&(r(n),t=setInterval(function(){r(n)},700))}).on("keyup.rskb",function(){t&&(clearInterval(t),t=null)})},goTo:function(e,t){e!==this.currSlideId&&this._l2(e,this.st.transitionSpeed,!0,!t)},destroy:function(t){this.ev.trigger("rsBeforeDestroy");this._a.off("keydown.rskb keyup.rskb "+this._j1+" "+this._k1);this._o1.off(this._i1+" click");this.slider.data("royalSlider",null);e.removeData(this.slider,"royalSlider");e(window).off("resize.rs");t&&this.slider.remove();this.ev=this.slider=this.slides=null},_m2:function(t,n){function r(n,r,o){n.isAdded?(i(r,n),s(r,n)):(o||(o=u.slidesJQ[r]),n.holder?o=n.holder:(o=u.slidesJQ[r]=e(o),n.holder=o),n.appendOnLoaded=!1,s(r,n,o),i(r,n),u._o2(n,o,t),appended=n.isAdded=!0)}function i(e,n){n.contentAdded||(u.setItemHtml(n,t),t||(n.contentAdded=!0))}function s(e,t,n){u._k&&(n||(n=u.slidesJQ[e]),n.css(u._h,(e+u._c1+d)*u._v))}function o(e){if(c){if(e>h-1)return o(e-h);if(0>e)return o(h+e)}return e}var u=this,a,f,c=u._y,h=u.numSlides;if(!isNaN(n))return o(n);var p=u.currSlideId,d,v=t?Math.abs(u._n2-u.currSlideId)>=u.numSlides-1?0:1:u._x,m=Math.min(2,v),g=!1,y=!1,b;for(f=p;f<p+1+m;f++)if(b=o(f),(a=u.slides[b])&&(!a.isAdded||!a.positionSet)){g=!0;break}for(f=p-1;f>p-1-m;f--)if(b=o(f),(a=u.slides[b])&&(!a.isAdded||!a.positionSet)){y=!0;break}if(g)for(f=p;f<p+v+1;f++)b=o(f),d=Math.floor((u._t-(p-f))/u.numSlides)*u.numSlides,(a=u.slides[b])&&r(a,b);if(y)for(f=p-1;f>p-1-v;f--)b=o(f),d=Math.floor((u._t-(p-f))/h)*h,(a=u.slides[b])&&r(a,b);if(!t){m=o(p-v);p=o(p+v);v=m>p?0:m;for(f=0;f<h;f++)!(m>p&&f>m-1)&&(f<v||f>p)&&(a=u.slides[f])&&a.holder&&(a.holder.detach(),a.isAdded=!1)}},setItemHtml:function(t,n){function r(){if(t.images){if(!t.isLoading){var n,r;t.content.hasClass("rsImg")?(n=t.content,r=!0):n=t.content.find(".rsImg:not(img)");n&&!n.is("img")&&n.each(function(){var n=e(this),i='<img class="rsImg" src="'+(n.is("a")?n.attr("href"):n.text())+'" />';r?t.content=e(i):n.replaceWith(i)});n=r?t.content:t.content.find("img.rsImg");a();n.eq(0).addClass("rsMainSlideImage");t.iW&&t.iH&&(t.isLoaded||c._p2(t),o());t.isLoading=!0;if(t.isBig)e("<img />").on("load.rs error.rs",function(){i([this],!0)}).attr("src",t.image);else{t.loaded=[];t.imgLoaders=[];for(n=0;n<t.images.length;n++){var s=e("<img />");t.imgLoaders.push(this);s.on("load.rs error.rs",function(){t.loaded.push(this);t.loaded.length===t.imgLoaders.length&&i(t.loaded,!1)}).attr("src",t.images[n])}}}}else t.isRendered=!0,t.isLoaded=!0,t.isLoading=!1,o(!0)}function i(e,n){if(e.length){var r=e[0];if(n!==t.isBig)(r=t.holder.children())&&1<r.length&&f();else if(t.iW&&t.iH)s();else if(t.iW=r.width,t.iH=r.height,t.iW&&t.iH)s();else{var i=new Image;i.onload=function(){i.width?(t.iW=i.width,t.iH=i.height,s()):setTimeout(function(){i.width&&(t.iW=i.width,t.iH=i.height);s()},1e3)};i.src=r.src}}else s()}function s(){t.isLoaded=!0;t.isLoading=!1;o();f();u()}function o(){if(!t.isAppended){var e=c.st.visibleNearby,r=t.id-c._n;!n&&!t.appendOnLoaded&&c.st.fadeinLoadedSlide&&(0===r||(e||c._q2||c._k2)&&(-1===r||1===r))&&(e={visibility:"visible",opacity:0},e[c._f+"transition"]="opacity 400ms ease-in-out",t.content.css(e),setTimeout(function(){t.content.css("opacity",1)},16));t.holder.find(".rsPreloader").length?t.holder.append(t.content):t.holder.html(t.content);t.isAppended=!0;t.isLoaded&&(c._p2(t),u());t.sizeReady||(t.sizeReady=!0,setTimeout(function(){c.ev.trigger("rsMaybeSizeReady",t)},100))}}function u(){t.loadedTriggered||(t.isLoaded=t.loadedTriggered=!0,t.holder.trigger("rsAfterContentSet"),c.ev.trigger("rsAfterContentSet",t))}function a(){c.st.usePreloader&&t.holder.html(c._p1.clone())}function f(){if(c.st.usePreloader){var e=t.holder.find(".rsPreloader");e.length&&e.remove()}}var c=this;t.isLoaded?o():n?!c._k&&t.images&&t.iW&&t.iH?r():(t.holder.isWaiting=!0,a(),t.holder.slideId=-99):r()},_o2:function(e){this._o1.append(e.holder);e.appendOnLoaded=!1},_f2:function(t,n){var r=this,i;r.ev.trigger("rsDragStart");if(e(t.target).closest(".rsNoDrag",r._q1).length)return r.dragSuccess=!1,!0;!n&&r._q2&&(r._r2=!0,r._s2());r.dragSuccess=!1;if(r._k2)r.hasTouch&&(r._t2=!0);else{r.hasTouch&&(r._t2=!1);r._u2();if(r.hasTouch){var s=t.originalEvent.touches;if(!(s&&0<s.length))return;i=s[0],1<s.length&&(r._t2=!0)}else t.preventDefault(),i=t,r.msEnabled&&(i=i.originalEvent);r._k2=!0;r._a.on(r._j1,function(e){r._v2(e,n)}).on(r._k1,function(e){r._w2(e,n)});r._x2="";r._y2=!1;r._z2=i.pageX;r._a3=i.pageY;r._b3=r._u=(n?r._c3:r._g)?i.pageX:i.pageY;r._d3=0;r._e3=0;r._f3=n?r._g3:r._o;r._h3=(new Date).getTime();r.hasTouch&&r._d1.on(r._l1,function(e){r._w2(e,n)})}},_i3:function(e,t){if(this._j3){var n=this._k3,r=e.pageX-this._z2,i=e.pageY-this._a3,s=this._f3+r,o=this._f3+i,u=t?this._c3:this._g,s=u?s:o,o=this._x2;this._y2=!0;this._z2=e.pageX;this._a3=e.pageY;"x"===o&&0!==r?this._d3=0<r?1:-1:"y"===o&&0!==i&&(this._e3=0<i?1:-1);o=u?this._z2:this._a3;r=u?r:i;t?s>this._l3?s=this._f3+r*this._m1:s<this._m3&&(s=this._f3+r*this._m1):this._y||(0>=this.currSlideId&&0<o-this._b3&&(s=this._f3+r*this._m1),this.currSlideId>=this.numSlides-1&&0>o-this._b3&&(s=this._f3+r*this._m1));this._f3=s;200<n-this._h3&&(this._h3=n,this._u=o);t?this._o3(this._f3):this._k&&this._n3(this._f3)}},_v2:function(e,t){var n=this,r;if(n.hasTouch){if(n._p3)return;var i=e.originalEvent.touches;if(!i)return;if(1<i.length)return;r=i[0]}else r=e,n.msEnabled&&(r=r.originalEvent);n._y2||(n._d&&(t?n._q3:n._o1).css(n._f+n._t1,"0s"),function s(){n._k2&&(n._r3=requestAnimationFrame(s),n._s3&&n._i3(n._s3,t))}());if(n._j3)e.preventDefault(),n._k3=(new Date).getTime(),n._s3=r;else if(i=t?n._c3:n._g,r=Math.abs(r.pageX-n._z2)-Math.abs(r.pageY-n._a3)-(i?-7:7),7<r){if(i)e.preventDefault(),n._x2="x";else if(n.hasTouch){n._t3();return}n._j3=!0}else if(-7>r){if(i){if(n.hasTouch){n._t3();return}}else e.preventDefault(),n._x2="y";n._j3=!0}},_t3:function(){this._p3=!0;this._y2=this._k2=!1;this._w2()},_w2:function(t,n){function r(e){return 100>e?100:500<e?500:e}function i(e,t){if(s._k||n)a=(-s._t-s._c1)*s._v,f=Math.abs(s._o-a),s._b=f/t,e&&(s._b+=250),s._b=r(s._b),s._v3(a,!1)}var s=this,o,u,a,f;s.ev.trigger("rsDragRelease");s._s3=null;s._k2=!1;s._p3=!1;s._j3=!1;s._k3=0;cancelAnimationFrame(s._r3);s._y2&&(n?s._o3(s._f3):s._k&&s._n3(s._f3));s._a.off(s._j1).off(s._k1);s.hasTouch&&s._d1.off(s._l1);s._h1();if(!s._y2&&!s._t2&&n&&s._u3){var c=e(t.target).closest(".rsNavItem");c.length&&s.goTo(c.index())}else{u=n?s._c3:s._g;if(!s._y2||"y"===s._x2&&u||"x"===s._x2&&!u){if(!!n||!s._r2){s._r2=!1;s.dragSuccess=!1;return}s._r2=!1;if(s.st.navigateByClick){s._h2(s.msEnabled?t.originalEvent:t);s.dragSuccess=!0;return}s.dragSuccess=!0}else s.dragSuccess=!0;s._r2=!1;s._x2="";var h=s.st.minSlideOffset;o=s.hasTouch?t.originalEvent.changedTouches[0]:s.msEnabled?t.originalEvent:t;var p=u?o.pageX:o.pageY,d=s._b3;o=s._u;var v=s.currSlideId,m=s.numSlides,g=u?s._d3:s._e3,y=s._y;Math.abs(p-d);o=p-o;u=(new Date).getTime()-s._h3;u=Math.abs(o)/u;if(0===g||1>=m)i(!0,u);else{if(!y&&!n)if(0>=v){if(0<g){i(!0,u);return}}else if(v>=m-1&&0>g){i(!0,u);return}if(n){a=s._g3;if(a>s._l3)a=s._l3;else if(a<s._m3)a=s._m3;else{h=u*u/.006;c=-s._g3;p=s._w3-s._x3+s._g3;0<o&&h>c?(c+=s._x3/(15/(.003*(h/u))),u=u*c/h,h=c):0>o&&h>p&&(p+=s._x3/(15/(.003*(h/u))),u=u*p/h,h=p);c=Math.max(Math.round(u/.003),50);a+=h*(0>o?-1:1);if(a>s._l3){s._y3(a,c,!0,s._l3,200);return}if(a<s._m3){s._y3(a,c,!0,s._m3,200);return}}s._y3(a,c,!0)}else d+h<p?0>g?i(!1,u):s._l2("prev",r(Math.abs(s._o-(-s._t-s._c1+1)*s._v)/u),!1,!0,!0):d-h>p?0<g?i(!1,u):s._l2("next",r(Math.abs(s._o-(-s._t-s._c1-1)*s._v)/u),!1,!0,!0):i(!1,u)}}},_n3:function(e){e=this._o=e;this._d?this._o1.css(this._w1,this._x1+(this._g?e+this._y1+0:0+this._y1+e)+this._z1):this._o1.css(this._g?this._w1:this._v1,e)},updateSliderSize:function(e){var t,n;if(this.st.autoScaleSlider){var r=this.st.autoScaleSliderWidth,i=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(t=this.slider.width(),t!=this.width&&(this.slider.css("height",t*(i/r)),t=this.slider.width()),n=this.slider.height()):(n=this.slider.height(),n!=this.height&&(this.slider.css("width",n*(r/i)),n=this.slider.height()),t=this.slider.width())}else t=this.slider.width(),n=this.slider.height();if(e||t!=this.width||n!=this.height){this.width=t;this.height=n;this._z3=t;this._a4=n;this.ev.trigger("rsBeforeSizeSet");this.ev.trigger("rsAfterSizePropSet");this._d1.css({width:this._z3,height:this._a4});this._v=(this._g?this._z3:this._a4)+this.st.slidesSpacing;this._b4=this.st.imageScalePadding;for(t=0;t<this.slides.length;t++)e=this.slides[t],e.positionSet=!1,e&&e.images&&e.isLoaded&&(e.isRendered=!1,this._p2(e));if(this._c4)for(t=0;t<this._c4.length;t++)e=this._c4[t],e.holder.css(this._h,(e.id+this._c1)*this._v);this._m2();this._k&&(this._d&&this._o1.css(this._f+"transition-duration","0s"),this._n3((-this._t-this._c1)*this._v));this.ev.trigger("rsOnUpdateNav")}this._i2=this._d1.offset();this._i2=this._i2[this._h]},appendSlide:function(e,t){var n=this._r(e);if(isNaN(t)||t>this.numSlides)t=this.numSlides;this.slides.splice(t,0,n);this.slidesJQ.splice(t,0,'<div style="'+(this._k?"position:absolute;":this._m)+'" class="rsSlide"></div>');t<this.currSlideId&&this.currSlideId++;this.ev.trigger("rsOnAppendSlide",[n,t]);this._e4(t);t===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(e){var t=this.slides[e];t&&(t.holder&&t.holder.remove(),e<this.currSlideId&&this.currSlideId--,this.slides.splice(e,1),this.slidesJQ.splice(e,1),this.ev.trigger("rsOnRemoveSlide",[e]),this._e4(e),e===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_e4:function(){var e=this,t=e.numSlides,t=0>=e._t?0:Math.floor(e._t/t);e.numSlides=e.slides.length;0===e.numSlides?(e.currSlideId=e._c1=e._t=0,e.currSlide=e._f4=null):e._t=t*e.numSlides+e.currSlideId;for(t=0;t<e.numSlides;t++)e.slides[t].id=t;e.currSlide=e.slides[e.currSlideId];e._q1=e.slidesJQ[e.currSlideId];e.currSlideId>=e.numSlides?e.goTo(e.numSlides-1):0>e.currSlideId&&e.goTo(0);e._s();e._k&&e._y&&e._o1.css(e._f+e._t1,"0ms");e._g4&&clearTimeout(e._g4);e._g4=setTimeout(function(){e._k&&e._n3((-e._t-e._c1)*e._v);e._m2();e._k||e._q1.css({display:"block",opacity:1})},14);e.ev.trigger("rsOnUpdateNav")},_h1:function(){this._e1&&!this.hasTouch&&this._k&&(this._f1?this._d1.css("cursor",this._f1):(this._d1.removeClass("grabbing-cursor"),this._d1.addClass("grab-cursor")))},_u2:function(){this._e1&&!this.hasTouch&&this._k&&(this._g1?this._d1.css("cursor",this._g1):(this._d1.removeClass("grab-cursor"),this._d1.addClass("grabbing-cursor")))},next:function(e){this._l2("next",this.st.transitionSpeed,!0,!e)},prev:function(e){this._l2("prev",this.st.transitionSpeed,!0,!e)},_l2:function(e,t,n,r,i){var s=this,o,u,a;s._i4&&s.stopVideo();s.ev.trigger("rsBeforeMove",[e,r]);newItemId="next"===e?s.currSlideId+1:"prev"===e?s.currSlideId-1:e=parseInt(e,10);if(!s._y){if(0>newItemId){s._j4("left",!r);return}if(newItemId>=s.numSlides){s._j4("right",!r);return}}s._q2&&(s._s2(!0),n=!1);u=newItemId-s.currSlideId;a=s._n2=s.currSlideId;var f=s.currSlideId+u;r=s._t;var l;s._y?(f=s._m2(!1,f),r+=u):r=f;s._n=f;s._f4=s.slidesJQ[s.currSlideId];s._t=r;s.currSlideId=s._n;s.currSlide=s.slides[s.currSlideId];s._q1=s.slidesJQ[s.currSlideId];var f=s.st.slidesDiff,c=Boolean(0<u);u=Math.abs(u);var h=Math.floor(a/s._x),p=Math.floor((a+(c?f:-f))/s._x),h=(c?Math.max(h,p):Math.min(h,p))*s._x+(c?s._x-1:0);h>s.numSlides-1?h=s.numSlides-1:0>h&&(h=0);a=c?h-a:a-h;a>s._x&&(a=s._x);if(u>a+f){s._c1+=(u-(a+f))*(c?-1:1);t*=1.4;for(a=0;a<s.numSlides;a++)s.slides[a].positionSet=!1}s._b=t;s._m2(!0);i||(l=!0);o=(-r-s._c1)*s._v;l?setTimeout(function(){s._h4=!1;s._v3(o,e,!1,n);s.ev.trigger("rsOnUpdateNav")},0):(s._v3(o,e,!1,n),s.ev.trigger("rsOnUpdateNav"))},_e2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._b2.css("display","none"),this._c2.css("display","none")):(this._b2.css("display","block"),this._c2.css("display","block"),!this._y&&!this.st.loopRewind&&(0===this.currSlideId?this._b2.addClass("rsArrowDisabled"):this._b2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"))))},_v3:function(t,n,r,i,s){function o(){var e;a&&(e=a.data("rsTimeout"))&&(a!==f&&a.css({opacity:0,display:"none",zIndex:0}),clearTimeout(e),a.data("rsTimeout",""));if(e=f.data("rsTimeout"))clearTimeout(e),f.data("rsTimeout","")}var u=this,a,f,c={};isNaN(u._b)&&(u._b=400);u._o=u._f3=t;u.ev.trigger("rsBeforeAnimStart");u._d?u._k?(u._b=parseInt(u._b),c[u._f+u._t1]=u._b+"ms",c[u._f+u._u1]=i?e.rsCSS3Easing[u.st.easeInOut]:e.rsCSS3Easing[u.st.easeOut],u._o1.css(c),i||!u.hasTouch?setTimeout(function(){u._n3(t)},5):u._n3(t)):(u._b=u.st.transitionSpeed,a=u._f4,f=u._q1,f.data("rsTimeout")&&f.css("opacity",0),o(),a&&a.data("rsTimeout",setTimeout(function(){c[u._f+u._t1]="0ms";c.zIndex=0;c.display="none";a.data("rsTimeout","");a.css(c);setTimeout(function(){a.css("opacity",0)},16)},u._b+60)),c.display="block",c.zIndex=u._l,c.opacity=0,c[u._f+u._t1]="0ms",c[u._f+u._u1]=e.rsCSS3Easing[u.st.easeInOut],f.css(c),f.data("rsTimeout",setTimeout(function(){f.css(u._f+u._t1,u._b+"ms");f.data("rsTimeout",setTimeout(function(){f.css("opacity",1);f.data("rsTimeout","")},20))},20))):u._k?(c[u._g?u._w1:u._v1]=t+"px",u._o1.animate(c,u._b,i?u.st.easeInOut:u.st.easeOut)):(a=u._f4,f=u._q1,f.stop(!0,!0).css({opacity:0,display:"block",zIndex:u._l}),u._b=u.st.transitionSpeed,f.animate({opacity:1},u._b,u.st.easeInOut),o(),a&&a.data("rsTimeout",setTimeout(function(){a.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},u._b+60)));u._q2=!0;u.loadingTimeout&&clearTimeout(u.loadingTimeout);u.loadingTimeout=s?setTimeout(function(){u.loadingTimeout=null;s.call()},u._b+60):setTimeout(function(){u.loadingTimeout=null;u._k4(n)},u._b+60)},_s2:function(e){this._q2=!1;clearTimeout(this.loadingTimeout);if(this._k)if(this._d){if(!e){e=this._o;var t=this._f3=this._l4();this._o1.css(this._f+this._t1,"0ms");e!==t&&this._n3(t)}}else this._o1.stop(!0),this._o=parseInt(this._o1.css(this._w1),10);else 20<this._l?this._l=10:this._l++},_l4:function(){var e=window.getComputedStyle(this._o1.get(0),null).getPropertyValue(this._f+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),t=0===e[0].indexOf("matrix3d");return parseInt(e[this._g?t?12:4:t?13:5],10)},_m4:function(e,t){return this._d?this._x1+(t?e+this._y1+0:0+this._y1+e)+this._z1:e},_k4:function(){this._k||(this._q1.css("z-index",0),this._l=10);this._q2=!1;this.staticSlideId=this.currSlideId;this._m2();this._n4=!1;this.ev.trigger("rsAfterSlideChange")},_j4:function(e,t){var n=this,r=(-n._t-n._c1)*n._v;if(0!==n.numSlides&&!n._q2)if(n.st.loopRewind)n.goTo("left"===e?n.numSlides-1:0,t);else if(n._k){n._b=200;var i=function(){n._q2=!1};n._v3(r+("left"===e?30:-30),"",!1,!0,function(){n._q2=!1;n._v3(r,"",!1,!0,i)})}},_p2:function(e){if(!e.isRendered){var t=e.content,n="rsMainSlideImage",r,i=this.st.imageAlignCenter,s=this.st.imageScaleMode,o;e.videoURL&&(n="rsVideoContainer","fill"!==s?r=!0:(o=t,o.hasClass(n)||(o=o.find("."+n)),o.css({width:"100%",height:"100%"}),n="rsMainSlideImage"));t.hasClass(n)||(t=t.find("."+n));if(t){var u=e.iW,n=e.iH;e.isRendered=!0;if("none"!==s||i){bMargin="fill"!==s?this._b4:0;e=this._z3-2*bMargin;o=this._a4-2*bMargin;var a,f,l={};"fit-if-smaller"===s&&(u>e||n>o)&&(s="fit");if("fill"===s||"fit"===s)a=e/u,f=o/n,a="fill"==s?a>f?a:f:"fit"==s?a<f?a:f:1,u=Math.ceil(u*a,10),n=Math.ceil(n*a,10);"none"!==s&&(l.width=u,l.height=n,r&&t.find(".rsImg").css({width:"100%",height:"auto"}));i&&(l.marginLeft=Math.floor((e-u)/2)+bMargin,l.marginTop=Math.floor((o-n)/2)+bMargin);t.css(l)}}}}};e.rsProto=t.prototype;e.fn.royalSlider=function(n){var r=arguments;return this.each(function(){var i=e(this);if("object"==typeof n||!n)i.data("royalSlider")||i.data("royalSlider",new t(i,n));else if((i=i.data("royalSlider"))&&i[n])return i[n].apply(i,Array.prototype.slice.call(r,1))})};e.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2};e.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"};e.extend(jQuery.easing,{easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n}})})(jQuery,window);(function(e){e.rsProto._o4=function(){var e,t=this;t.st.addActiveClass&&t.ev.on("rsOnUpdateNav",function(){e&&clearTimeout(e);e=setTimeout(function(){t._f4&&t._f4.removeClass("rsActiveSlide");t._q1&&t._q1.addClass("rsActiveSlide");e=null},50)})};e.rsModules.activeClass=e.rsProto._o4})(jQuery);(function(e){e.extend(e.rsProto,{_p4:function(){function t(){var e=n.currSlide;if(n.currSlide&&n.currSlide.isLoaded&&n._t4!==e){if(0<n._s4.length){for(r=0;r<n._s4.length;r++)clearTimeout(n._s4[r]);n._s4=[]}if(0<n._r4.length){var t;for(r=0;r<n._r4.length;r++)if(t=n._r4[r])n._d?(t.block.css(n._f+n._t1,"0s"),t.block.css(t.css)):t.running?t.block.stop(!0,!0):t.block.css(t.css),n._t4=null,e.animBlocksDisplayed=!1;n._r4=[]}e.animBlocks&&(e.animBlocksDisplayed=!0,n._t4=e,n._u4(e.animBlocks))}}var n=this,r;n._q4={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200};n.st.block=e.extend({},n._q4,n.st.block);n._r4=[];n._s4=[];n.ev.on("rsAfterInit",function(){t()});n.ev.on("rsBeforeParseNode",function(t,n,r){n=e(n);r.animBlocks=n.find(".rsABlock").css("display","none");r.animBlocks.length||(r.animBlocks=n.hasClass("rsABlock")?n.css("display","none"):!1)});n.ev.on("rsAfterContentSet",function(e,r){r.id===n.currSlideId&&setTimeout(function(){t()},n.st.fadeinLoadedSlide?300:0)});n.ev.on("rsAfterSlideChange",function(){t()})},_v4:function(e,t){setTimeout(function(){e.css(t)},6)},_u4:function(t){var n=this,r,i,s,o;n._s4=[];t.each(function(t){r=e(this);i={};s={};o=null;var u=r.data("move-offset");isNaN(u)&&(u=n.st.block.moveOffset);if(0<u){var f=r.data("move-effect");f?(f=f.toLowerCase(),"none"===f?f=!1:"left"!==f&&"top"!==f&&"bottom"!==f&&"right"!==f&&(f=n.st.block.moveEffect,"none"===f&&(f=!1))):f=n.st.block.moveEffect;if(f){var l;l="right"===f||"left"===f?!0:!1;var h,p;isOppositeProp=!1;n._d?(h=0,p=n._w1):(l?isNaN(parseInt(r.css("right"),10))?p="left":(p="right",isOppositeProp=!0):isNaN(parseInt(r.css("bottom"),10))?p="top":(p="bottom",isOppositeProp=!0),p="margin-"+p,isOppositeProp&&(u=-u),h=parseInt(r.css(p),10));s[p]=n._m4("top"===f||"left"===f?h-u:h+u,l);i[p]=n._m4(h,l)}}if(u=r.attr("data-fade-effect")){if("none"===u.toLowerCase()||"false"===u.toLowerCase())u=!1}else u=n.st.block.fadeEffect;u&&(s.opacity=0,i.opacity=1);if(u||f)o={},o.hasFade=Boolean(u),Boolean(f)&&(o.moveProp=p,o.hasMove=!0),o.speed=r.data("speed"),isNaN(o.speed)&&(o.speed=n.st.block.speed),o.easing=r.data("easing"),o.easing||(o.easing=n.st.block.easing),o.css3Easing=e.rsCSS3Easing[o.easing],o.delay=r.data("delay"),isNaN(o.delay)&&(o.delay=n.st.block.delay*t);f={};n._d&&(f[n._f+n._t1]="0ms");f.moveProp=i.moveProp;f.opacity=i.opacity;f.display="none";n._r4.push({block:r,css:f});n._v4(r,s);n._s4.push(setTimeout(function(e,t,r,i){return function(){e.css("display","block");if(r){var s={};if(n._d){var o="";r.hasMove&&(o+=r.moveProp);r.hasFade&&(r.hasMove&&(o+=", "),o+="opacity");s[n._f+n._s1]=o;s[n._f+n._t1]=r.speed+"ms";s[n._f+n._u1]=r.css3Easing;e.css(s);setTimeout(function(){e.css(t)},24)}else setTimeout(function(){e.animate(t,r.speed,r.easing)},16)}delete n._s4[i]}}(r,i,o,t),6>=o.delay?12:o.delay))})}});e.rsModules.animatedBlocks=e.rsProto._p4})(jQuery);(function(e){e.extend(e.rsProto,{_w4:function(){var e=this;if(e.st.autoHeight){var t,n,r,i=function(i){r=e.slides[e.currSlideId];(t=r.holder)&&(n=t.height())&&void 0!==n&&(e._a4=n,e._d||!i?e._d1.css("height",n):e._d1.stop(!0,!0).animate({height:n},e.st.transitionSpeed))};e.ev.on("rsMaybeSizeReady.rsAutoHeight",function(e,t){r===t&&i()});e.ev.on("rsAfterContentSet.rsAutoHeight",function(e,t){r===t&&i()});e.slider.addClass("rsAutoHeight");e.ev.one("rsAfterInit",function(){setTimeout(function(){i(!1);setTimeout(function(){e.slider.append('<div style="clear:both; float: none;"></div>');e._d&&e._d1.css(e._f+"transition","height "+e.st.transitionSpeed+"ms ease-in-out")},16)},16)});e.ev.on("rsBeforeAnimStart",function(){i(!0)});e.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){i(!1)},16)})}}});e.rsModules.autoHeight=e.rsProto._w4})(jQuery);(function(e){e.extend(e.rsProto,{_x4:function(){var t=this,n;t._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3};!t.st.autoPlay&&t.st.autoplay&&(t.st.autoPlay=t.st.autoplay);t.st.autoPlay=e.extend({},t._y4,t.st.autoPlay);t.st.autoPlay.enabled&&(t.ev.on("rsBeforeParseNode",function(t,r,i){r=e(r);if(n=r.attr("data-rsDelay"))i.customDelay=parseInt(n,10)}),t.ev.one("rsAfterInit",function(){t._z4()}),t.ev.on("rsBeforeDestroy",function(){t.stopAutoPlay()}))},_z4:function(){var e=this;e.startAutoPlay();e.ev.on("rsAfterContentSet",function(t,n){!e._k2&&!e._q2&&e._a5&&n===e.currSlide&&e._b5()});e.ev.on("rsDragRelease",function(){e._a5&&e._c5&&(e._c5=!1,e._b5())});e.ev.on("rsAfterSlideChange",function(){e._a5&&e._c5&&(e._c5=!1,e.currSlide.isLoaded&&e._b5())});e.ev.on("rsDragStart",function(){e._a5&&(e.st.autoPlay.stopAtAction?e.stopAutoPlay():(e._c5=!0,e._d5()))});e.ev.on("rsBeforeMove",function(t,n,r){e._a5&&(r&&e.st.autoPlay.stopAtAction?e.stopAutoPlay():(e._c5=!0,e._d5()))});e._e5=!1;e.ev.on("rsVideoStop",function(){e._a5&&(e._e5=!1,e._b5())});e.ev.on("rsVideoPlay",function(){e._a5&&(e._c5=!1,e._d5(),e._e5=!0)});e.st.autoPlay.pauseOnHover&&(e._f5=!1,e.slider.hover(function(){e._a5&&(e._c5=!1,e._d5(),e._f5=!0)},function(){e._a5&&(e._f5=!1,e._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0;this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1;this._d5()},_b5:function(){var e=this;!e._f5&&!e._e5&&(e._g5=!0,e._h5&&clearTimeout(e._h5),e._h5=setTimeout(function(){var t;!e._y&&!e.st.loopRewind&&(t=!0,e.st.loopRewind=!0);e.next(!0);t&&(e.st.loopRewind=!1)},e.currSlide.customDelay?e.currSlide.customDelay:e.st.autoPlay.delay))},_d5:function(){!this._f5&&!this._e5&&(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}});e.rsModules.autoplay=e.rsProto._x4})(jQuery);(function(e){e.extend(e.rsProto,{_i5:function(){var t=this;"bullets"===t.st.controlNavigation&&(t.ev.one("rsAfterPropsSetup",function(){t._j5=!0;t.slider.addClass("rsWithBullets");for(var n='<div class="rsNav rsBullets">',r=0;r<t.numSlides;r++)n+='<div class="rsNavItem rsBullet"><span></span></div>';t._k5=n=e(n+"</div>");t._l5=n.appendTo(t.slider).children();t._k5.on("click.rs",".rsNavItem",function(){t._m5||t.goTo(e(this).index())})}),t.ev.on("rsOnAppendSlide",function(e,n,r){r>=t.numSlides?t._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):t._l5.eq(r).before('<div class="rsNavItem rsBullet"><span></span></div>');t._l5=t._k5.children()}),t.ev.on("rsOnRemoveSlide",function(e,n){var r=t._l5.eq(n);r&&r.length&&(r.remove(),t._l5=t._k5.children())}),t.ev.on("rsOnUpdateNav",function(){var n=t.currSlideId;t._n5&&t._n5.removeClass("rsNavSelected");n=e(t._l5[n]);n.addClass("rsNavSelected");t._n5=n}))}});e.rsModules.bullets=e.rsProto._i5})(jQuery);(function(e){e.extend(e.rsProto,{_o5:function(){var t=this,n,r,i;t._p5={enabled:!1,change:!1,prefix:""};t.st.deeplinking=e.extend({},t._p5,t.st.deeplinking);if(t.st.deeplinking.enabled){var s=t.st.deeplinking.change,o="#"+t.st.deeplinking.prefix,u=function(){var e=window.location.hash;return e&&(e=parseInt(e.substring(o.length),10),0<=e)?e-1:-1},f=u();-1!==f&&(t.st.startSlideId=f);s&&(e(window).on("hashchange.rs",function(){if(!n){var e=u();0>e||(e>t.numSlides-1&&(e=t.numSlides-1),t.goTo(e))}}),t.ev.on("rsBeforeAnimStart",function(){r&&clearTimeout(r);i&&clearTimeout(i)}),t.ev.on("rsAfterSlideChange",function(){r&&clearTimeout(r);i&&clearTimeout(i);i=setTimeout(function(){n=!0;window.location.hash=o+(t.currSlideId+1);r=setTimeout(function(){n=!1;r=null},60)},400)}));t.ev.on("rsBeforeDestroy",function(){r=i=null;s&&e(window).off("hashchange.rs")})}}});e.rsModules.deeplinking=e.rsProto._o5})(jQuery);(function(e,t,n){function r(e){e=e||location.href;return"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var i=document,s,o=e.event.special,u=i.documentMode,a="onhashchange"in t&&(u===n||7<u);e.fn.hashchange=function(e){return e?this.bind("hashchange",e):this.trigger("hashchange")};e.fn.hashchange.delay=50;o.hashchange=e.extend(o.hashchange,{setup:function(){if(a)return!1;e(s.start)},teardown:function(){if(a)return!1;e(s.stop)}});var f=function(){var n=r(),i=p(c);n!==c?(h(c=n,i),e(t).trigger("hashchange")):i!==c&&(location.href=location.href.replace(/#.*/,"")+i);l=setTimeout(f,e.fn.hashchange.delay)},o={},l,c=r(),h=u=function(e){return e},p=u;o.start=function(){l||f()};o.stop=function(){l&&clearTimeout(l);l=n};if(e.browser.msie&&!a){var d,v;o.start=function(){d||(v=(v=e.fn.hashchange.src)&&v+r(),d=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){v||h(r());f()}).attr("src",v||"javascript:0").insertAfter("body")[0].contentWindow,i.onpropertychange=function(){try{"title"===event.propertyName&&(d.document.title=i.title)}catch(e){}})};o.stop=u;p=function(){return r(d.location.href)};h=function(t,n){var r=d.document,s=e.fn.hashchange.domain;t!==n&&(r.title=i.title,r.open(),s&&r.write('<script>document.domain="'+s+'"</script>'),r.close(),d.location.hash=t)}}s=o})(jQuery,this);(function(e){e.extend(e.rsProto,{_q5:function(){var t=this;t._r5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0};t.st.fullscreen=e.extend({},t._r5,t.st.fullscreen);t.st.fullscreen.enabled&&t.ev.one("rsBeforeSizeSet",function(){t._s5()})},_s5:function(){var t=this;t._t5=!t.st.keyboardNavEnabled&&t.st.fullscreen.keyboardNav;if(t.st.fullscreen.nativeFS){t._u5={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var n=["webkit","moz","o","ms","khtml"];if("undefined"!=typeof document.cancelFullScreen)t._u5.supportsFullScreen=!0;else for(var r=0;r<n.length;r++)if(t._u5.prefix=n[r],"undefined"!=typeof document[t._u5.prefix+"CancelFullScreen"]){t._u5.supportsFullScreen=!0;break}t._u5.supportsFullScreen?(t.nativeFS=!0,t._u5.fullScreenEventName=t._u5.prefix+"fullscreenchange.rs",t._u5.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},t._u5.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},t._u5.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):t._u5=!1}t.st.fullscreen.buttonFS&&(t._v5=e('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(t._n1).on("click.rs",function(){t.isFullscreen?t.exitFullscreen():t.enterFullscreen()}))},enterFullscreen:function(t){var n=this;if(n._u5){if(!t){n._a.on(n._u5.fullScreenEventName,function(){n._u5.isFullScreen()?n.enterFullscreen(!0):n.exitFullscreen(!0)});n._u5.requestFullScreen(e("html")[0]);return}n._u5.requestFullScreen(e("html")[0])}if(!n._w5){n._w5=!0;n._a.on("keyup.rsfullscreen",function(e){27===e.keyCode&&n.exitFullscreen()});n._t5&&n._a2();t=e(window);n._x5=t.scrollTop();n._y5=t.scrollLeft();n._z5=e("html").attr("style");n._a6=e("body").attr("style");n._b6=n.slider.attr("style");e("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"});n.slider.addClass("rsFullscreen");var r;for(r=0;r<n.numSlides;r++)t=n.slides[r],t.isRendered=!1,t.bigImage&&(t.isBig=!0,t.isMedLoaded=t.isLoaded,t.isMedLoading=t.isLoading,t.medImage=t.image,t.medIW=t.iW,t.medIH=t.iH,t.slideId=-99,t.bigImage!==t.medImage&&(t.sizeType="big"),t.isLoaded=t.isBigLoaded,t.isLoading=!1,t.image=t.bigImage,t.images[0]=t.bigImage,t.iW=t.bigIW,t.iH=t.bigIH,t.isAppended=t.contentAdded=!1,n._c6(t));n.isFullscreen=!0;n._w5=!1;n.updateSliderSize();n.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(t){var n=this;if(n._u5){if(!t){n._u5.cancelFullScreen(e("html")[0]);return}n._a.off(n._u5.fullScreenEventName)}if(!n._w5){n._w5=!0;n._a.off("keyup.rsfullscreen");n._t5&&n._a.off("keydown.rskb");e("html").attr("style",n._z5||""
);e("body").attr("style",n._a6||"");var r;for(r=0;r<n.numSlides;r++)t=n.slides[r],t.isRendered=!1,t.bigImage&&(t.isBig=!1,t.slideId=-99,t.isBigLoaded=t.isLoaded,t.isBigLoading=t.isLoading,t.bigImage=t.image,t.bigIW=t.iW,t.bigIH=t.iH,t.isLoaded=t.isMedLoaded,t.isLoading=!1,t.image=t.medImage,t.images[0]=t.medImage,t.iW=t.medIW,t.iH=t.medIH,t.isAppended=t.contentAdded=!1,n._c6(t,!0),t.bigImage!==t.medImage&&(t.sizeType="med"));n.isFullscreen=!1;t=e(window);t.scrollTop(n._x5);t.scrollLeft(n._y5);n._w5=!1;n.slider.removeClass("rsFullscreen");n.updateSliderSize();setTimeout(function(){n.updateSliderSize()},1);n.ev.trigger("rsExitFullscreen")}},_c6:function(t){var n=!t.isLoaded&&!t.isLoading?'<a class="rsImg rsMainSlideImage" href="'+t.image+'"></a>':'<img class="rsImg rsMainSlideImage" src="'+t.image+'"/>';t.content.hasClass("rsImg")?t.content=e(n):t.content.find(".rsMainSlideImage").replaceWith(n);!t.isLoaded&&!t.isLoading&&t.holder&&t.holder.html(t.content)}});e.rsModules.fullscreen=e.rsProto._q5})(jQuery);(function(e){e.extend(e.rsProto,{_d6:function(){var t=this;t.st.globalCaption&&(t.ev.on("rsAfterInit",function(){t.globalCaption=e('<div class="rsGCaption"></div>').appendTo(t.st.globalCaptionInside?t._d1:t.slider);t.globalCaption.html(t.currSlide.caption)}),t.ev.on("rsBeforeAnimStart",function(){t.globalCaption.html(t.currSlide.caption)}))}});e.rsModules.globalCaption=e.rsProto._d6})(jQuery);(function(e){e.extend(e.rsProto,{_e6:function(){var e=this;e.st.navAutoHide&&!e.hasTouch&&e.ev.one("rsAfterInit",function(){if(e._k5){e._k5.addClass("rsHidden");var t=e.slider;t.one("mousemove.controlnav",function(){e._k5.removeClass("rsHidden")});t.hover(function(){e._k5.removeClass("rsHidden")},function(){e._k5.addClass("rsHidden")})}})}});e.rsModules.autoHideNav=e.rsProto._e6})(jQuery);(function(e){e.extend(e.rsProto,{_f6:function(){var t=this;"tabs"===t.st.controlNavigation&&(t.ev.on("rsBeforeParseNode",function(t,n,r){n=e(n);r.thumbnail=n.find(".rsTmb").remove();r.thumbnail.length?r.thumbnail=e(document.createElement("div")).append(r.thumbnail).html():(r.thumbnail=n.attr("data-rsTmb"),r.thumbnail||(r.thumbnail=n.find(".rsImg").attr("data-rsTmb")),r.thumbnail=r.thumbnail?'<img src="'+r.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._g6()}),t.ev.on("rsOnAppendSlide",function(e,n,r){r>=t.numSlides?t._k5.append('<div class="rsNavItem rsTab">'+n.thumbnail+"</div>"):t._l5.eq(r).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>");t._l5=t._k5.children()}),t.ev.on("rsOnRemoveSlide",function(e,n){var r=t._l5.eq(n);r&&(r.remove(),t._l5=t._k5.children())}),t.ev.on("rsOnUpdateNav",function(){var n=t.currSlideId;t._n5&&t._n5.removeClass("rsNavSelected");n=e(t._l5[n]);n.addClass("rsNavSelected");t._n5=n}))},_g6:function(){var t=this,n,r;t._j5=!0;n='<div class="rsNav rsTabs">';for(var i=0;i<t.numSlides;i++)i===t.numSlides-1&&(style=""),r=t.slides[i],n+='<div class="rsNavItem rsTab">'+r.thumbnail+"</div>";n=e(n+"</div>");t._k5=n;t._l5=n.find(".rsNavItem");t.slider.append(n);t._k5.click(function(n){n=e(n.target).closest(".rsNavItem");n.length&&t.goTo(n.index())})}});e.rsModules.tabs=e.rsProto._f6})(jQuery);(function(e){e.extend(e.rsProto,{_h6:function(){var t=this;"thumbnails"===t.st.controlNavigation&&(t._i6={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},t.st.thumbs=e.extend({},t._i6,t.st.thumbs),t._j6=!0,!1===t.st.thumbs.firstMargin?t.st.thumbs.firstMargin=0:!0===t.st.thumbs.firstMargin&&(t.st.thumbs.firstMargin=t.st.thumbs.spacing),t.ev.on("rsBeforeParseNode",function(t,n,r){n=e(n);r.thumbnail=n.find(".rsTmb").remove();r.thumbnail.length?r.thumbnail=e(document.createElement("div")).append(r.thumbnail).html():(r.thumbnail=n.attr("data-rsTmb"),r.thumbnail||(r.thumbnail=n.find(".rsImg").attr("data-rsTmb")),r.thumbnail=r.thumbnail?'<img src="'+r.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._k6()}),t._n5=null,t.ev.on("rsOnUpdateNav",function(){var n=e(t._l5[t.currSlideId]);n!==t._n5&&(t._n5&&(t._n5.removeClass("rsNavSelected"),t._n5=null),t._l6&&t._m6(t.currSlideId),t._n5=n.addClass("rsNavSelected"))}),t.ev.on("rsOnAppendSlide",function(e,n,r){e="<div"+t._n6+' class="rsNavItem rsThumb">'+t._o6+n.thumbnail+"</div>";r>=t.numSlides?t._q3.append(e):t._l5.eq(r).before(e);t._l5=t._q3.children();t.updateThumbsSize()}),t.ev.on("rsOnRemoveSlide",function(e,n){var r=t._l5.eq(n);r&&(r.remove(),t._l5=t._q3.children(),t.updateThumbsSize())}))},_k6:function(){var t=this,n="rsThumbs",r=t.st.thumbs,i="",s,o,u=r.spacing;t._j5=!0;t._c3="vertical"===r.orientation?!1:!0;t._n6=s=u?' style="margin-'+(t._c3?"right":"bottom")+":"+u+'px;"':"";t._g3=0;t._p6=!1;t._m5=!1;t._l6=!1;t._q6=r.arrows&&r.navigation;o=t._c3?"Hor":"Ver";t.slider.addClass("rsWithThumbs rsWithThumbs"+o);i+='<div class="rsNav rsThumbs rsThumbs'+o+'"><div class="'+n+'Container">';t._o6=r.appendSpan?'<span class="thumbIco"></span>':"";for(var a=0;a<t.numSlides;a++)o=t.slides[a],i+="<div"+s+' class="rsNavItem rsThumb">'+o.thumbnail+t._o6+"</div>";i=e(i+"</div></div>");s={};r.paddingTop&&(s[t._c3?"paddingTop":"paddingLeft"]=r.paddingTop);r.paddingBottom&&(s[t._c3?"paddingBottom":"paddingRight"]=r.paddingBottom);i.css(s);t._q3=e(i).find("."+n+"Container");t._q6&&(n+="Arrow",r.arrowLeft?t._r6=r.arrowLeft:(t._r6=e('<div class="'+n+" "+n+'Left"><div class="'+n+'Icn"></div></div>'),i.append(t._r6)),r.arrowRight?t._s6=r.arrowRight:(t._s6=e('<div class="'+n+" "+n+'Right"><div class="'+n+'Icn"></div></div>'),i.append(t._s6)),t._r6.click(function(){var e=(Math.floor(t._g3/t._t6)+t._u6)*t._t6;t._y3(e>t._l3?t._l3:e)}),t._s6.click(function(){var e=(Math.floor(t._g3/t._t6)-t._u6)*t._t6;t._y3(e<t._m3?t._m3:e)}),r.arrowsAutoHide&&!t.hasTouch&&(t._r6.css("opacity",0),t._s6.css("opacity",0),i.one("mousemove.rsarrowshover",function(){t._l6&&(t._r6.css("opacity",1),t._s6.css("opacity",1))}),i.hover(function(){t._l6&&(t._r6.css("opacity",1),t._s6.css("opacity",1))},function(){t._l6&&(t._r6.css("opacity",0),t._s6.css("opacity",0))})));t._k5=i;t._l5=t._q3.children();t.msEnabled&&t.st.thumbs.navigation&&t._q3.css("-ms-touch-action",t._c3?"pan-y":"pan-x");t.slider.append(i);t._u3=!0;t._v6=u;r.navigation&&t._d&&t._q3.css(t._f+"transition-property",t._f+"transform");t._k5.on("click.rs",".rsNavItem",function(){t._m5||t.goTo(e(this).index())});t.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){t._w6=t._c3?t._a4:t._z3;t.updateThumbsSize(!0)})},updateThumbsSize:function(){var e=this,t=e._l5.first(),n={},r=e._l5.length;e._t6=(e._c3?t.outerWidth():t.outerHeight())+e._v6;e._w3=r*e._t6-e._v6;n[e._c3?"width":"height"]=e._w3+e._v6;e._x3=e._c3?e._k5.width():e._k5.height();e._m3=-(e._w3-e._x3)-e.st.thumbs.firstMargin;e._l3=e.st.thumbs.firstMargin;e._u6=Math.floor(e._x3/e._t6);e._w3<e._x3?(e.st.thumbs.autoCenter&&e._o3((e._x3-e._w3)/2),e.st.thumbs.arrows&&e._r6&&(e._r6.addClass("rsThumbsArrowDisabled"),e._s6.addClass("rsThumbsArrowDisabled")),e._l6=!1,e._m5=!1,e._k5.off(e._i1)):e.st.thumbs.navigation&&!e._l6&&(e._l6=!0,!e.hasTouch&&e.st.thumbs.drag||e.hasTouch&&e.st.thumbs.touch)&&(e._m5=!0,e._k5.on(e._i1,function(t){e._f2(t,!0)}));e._d&&(n[e._f+"transition-duration"]="0ms");e._q3.css(n);e._u3&&(e.isFullscreen||e.st.thumbs.fitInViewport)&&(e._c3?e._a4=e._w6-e._k5.outerHeight():e._z3=e._w6-e._k5.outerWidth())},setThumbsOrientation:function(e,t){this._u3&&(this.st.thumbs.orientation=e,this._k5.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._k6(),this._k5.off(this._i1),t||this.updateSliderSize(!0))},_o3:function(e){this._g3=e;this._d?this._q3.css(this._w1,this._x1+(this._c3?e+this._y1+0:0+this._y1+e)+this._z1):this._q3.css(this._c3?this._w1:this._v1,e)},_y3:function(t,n,r,i,s){var o=this;if(o._l6){n||(n=o.st.thumbs.transitionSpeed);o._g3=t;o._x6&&clearTimeout(o._x6);o._p6&&(o._d||o._q3.stop(),r=!0);var u={};o._p6=!0;o._d?(u[o._f+"transition-duration"]=n+"ms",u[o._f+"transition-timing-function"]=r?e.rsCSS3Easing[o.st.easeOut]:e.rsCSS3Easing[o.st.easeInOut],o._q3.css(u),o._o3(t)):(u[o._c3?o._w1:o._v1]=t+"px",o._q3.animate(u,n,r?"easeOutCubic":o.st.easeInOut));i&&(o._g3=i);o._y6();o._x6=setTimeout(function(){o._p6=!1;s&&(o._y3(i,s,!0),s=null)},n)}},_y6:function(){this._q6&&(this._g3===this._l3?this._r6.addClass("rsThumbsArrowDisabled"):this._r6.removeClass("rsThumbsArrowDisabled"),this._g3===this._m3?this._s6.addClass("rsThumbsArrowDisabled"):this._s6.removeClass("rsThumbsArrowDisabled"))},_m6:function(e,t){var n=0,r,i=e*this._t6+2*this._t6-this._v6+this._l3,s=Math.floor(this._g3/this._t6);this._l6&&(this._j6&&(t=!0,this._j6=!1),i+this._g3>this._x3?(e===this.numSlides-1&&(n=1),s=-e+this._u6-2+n,r=s*this._t6+this._x3%this._t6+this._v6-this._l3):0!==e?(e-1)*this._t6<=-this._g3+this._l3&&e-1<=this.numSlides-this._u6&&(r=(-e+1)*this._t6+this._l3):r=this._l3,r!==this._g3&&(n=void 0===r?this._g3:r,n>this._l3?this._o3(this._l3):n<this._m3?this._o3(this._m3):void 0!==r&&(t?this._o3(r):this._y3(r))),this._y6())}});e.rsModules.thumbnails=e.rsProto._h6})(jQuery);(function(e){e.extend(e.rsProto,{_z6:function(){var t=this;t._a7={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?rel=1&autoplay=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'};t.st.video=e.extend({},t._a7,t.st.video);t.ev.on("rsBeforeSizeSet",function(){t._i4&&setTimeout(function(){var e=t._q1,e=e.hasClass("rsVideoContainer")?e:e.find(".rsVideoContainer");t._b7&&t._b7.css({width:e.width(),height:e.height()})},32)});var n=e.browser.mozilla;t.ev.on("rsAfterParseNode",function(r,i,s){r=e(i);if(s.videoURL){n&&(t._d=t._e=!1);i=e('<div class="rsVideoContainer"></div>');var o=e('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');r.hasClass("rsImg")?s.content=i.append(r).append(o):s.content.find(".rsImg").wrap(i).after(o)}})},toggleVideo:function(){return this._i4?this.stopVideo():this.playVideo()},playVideo:function(){var t=this;if(!t._i4){var n=t.currSlide;if(!n.videoURL)return!1;var r=t._c7=n.content,n=n.videoURL,i,s;n.match(/youtu\.be/i)||n.match(/youtube\.com/i)?(s=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(s=n.match(s))&&11==s[7].length&&(i=s[7]),void 0!==i&&(t._b7=t.st.video.youTubeCode.replace("%id%",i))):n.match(/vimeo\.com/i)&&(s=/(www\.)?vimeo.com\/(\d+)($|\/)/,(s=n.match(s))&&(i=s[2]),void 0!==i&&(t._b7=t.st.video.vimeoCode.replace("%id%",i)));t.videoObj=e(t._b7);t.ev.trigger("rsOnCreateVideoElement",[n]);t.videoObj.length&&(t._b7=e('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),t._b7.find(".rsPreloader").after(t.videoObj),r=r.hasClass("rsVideoContainer")?r:r.find(".rsVideoContainer"),t._b7.css({width:r.width(),height:r.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(e){t.stopVideo();e.preventDefault();e.stopPropagation();return!1}),r.append(t._b7),t.isIPAD&&r.addClass("rsIOSVideo"),t._d7(),setTimeout(function(){t._b7.addClass("rsVideoActive")},10),t.ev.trigger("rsVideoPlay"),t._i4=!0);return!0}return!1},stopVideo:function(){var e=this;return e._i4?(e.isIPAD&&e.slider.find(".rsCloseVideoBtn").remove(),e._d7(!0),setTimeout(function(){e.ev.trigger("rsOnDestroyVideoElement",[e.videoObj]);var t=e._b7.find("iframe");if(t.length)try{t.attr("src","")}catch(n){}e._b7.remove();e._b7=null},16),e.ev.trigger("rsVideoStop"),e._i4=!1,!0):!1},_d7:function(e){var t=[],n=this.st.video;n.autoHideArrows&&(this._b2&&(t.push(this._b2,this._c2),this._d2=!1),this._v5&&t.push(this._v5));n.autoHideControlNav&&this._k5&&t.push(this._k5);n.autoHideBlocks&&this.currSlide.animBlocks&&t.push(this.currSlide.animBlocks);n.autoHideCaption&&this.globalCaption&&t.push(this.globalCaption);if(t.length)for(n=0;n<t.length;n++)e?t[n].removeClass("rsHidden"):t[n].addClass("rsHidden")}});e.rsModules.video=e.rsProto._z6})(jQuery);(function(e){e.rsProto._e7=function(){var t=this;t.st.visibleNearby&&t.st.visibleNearby.enabled&&(t._f7={enabled:!0,centerArea:.6,center:!0,breakpoint:0,breakpointCenterArea:.8,hiddenOverflow:!0,navigateByCenterClick:!1},t.st.visibleNearby=e.extend({},t._f7,t.st.visibleNearby),t.ev.one("rsAfterPropsSetup",function(){t._g7=t._d1.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent();t.st.visibleNearby.hiddenOverflow||t._g7.css("overflow","visible");t._n1=t.st.controlsInside?t._g7:t.slider}),t.ev.on("rsAfterSizePropSet",function(){var e,n=t.st.visibleNearby;e=n.breakpoint&&t.width<n.breakpoint?n.breakpointCenterArea:n.centerArea;t._g?(t._z3*=e,t._g7.css({height:t._a4,width:t._z3/e}),t._c=t._z3*(1-e)/2/e):(t._a4*=e,t._g7.css({height:t._a4/e,width:t._z3}),t._c=t._a4*(1-e)/2/e);n.navigateByCenterClick||(t._p=t._g?t._z3:t._a4);n.center&&t._d1.css("margin-"+(t._g?"left":"top"),t._c)}))};e.rsModules.visibleNearby=e.rsProto._e7})(jQuery);(function(e){function t(t,n){if(0===t.indexOf("#"))e(t).clone(!0).appendTo(i.empty()).show();else{if(n){var r=e("<iframe />").attr({src:t,frameborder:0,hspace:0}).css({width:"100%",height:"100%"});i.html(r)}else i.load(t);i.data("localEl",!1)}}function n(e,t){var n=i.outerWidth(!0),o={},u={};if(!i.is(":visible")&&!s){s=!0;switch(e){case"left":i.css({left:"auto",right:"-"+n+"px"});o["margin-left"]="-="+n;u.right="+="+n;break;default:i.css({left:"-"+n+"px",right:"auto"}),o["margin-left"]="+="+n,u.left="+="+n}r.animate(o,t);i.show().animate(u,t,function(){s=!1})}}var r=e("body"),i=e("#pageslide"),s=!1,o;0==i.length&&(i=e("<div />").attr("id","pageslide").css("display","none").appendTo(e("body")));e.fn.pageslide=function(t){this.click(function(n){var r=e(this),s=e.extend({href:r.attr("href")},t);n.preventDefault();n.stopPropagation();i.is(":visible")&&r[0]==o?e.pageslide.close():(e.pageslide(s),o=r[0])})};e.fn.pageslide.defaults={speed:200,direction:"right",modal:!1,iframe:!0,href:null};e.pageslide=function(r){var s=e.extend({},e.fn.pageslide.defaults,r);i.is(":visible")&&i.data("direction")!=s.direction?e.pageslide.close(function(){t(s.href,s.iframe);n(s.direction,s.speed)}):(t(s.href,s.iframe),i.is(":hidden")&&n(s.direction,s.speed));i.data(s)};e.pageslide.close=function(t){var n=e("#pageslide"),i=n.outerWidth(!0),o=n.data("speed"),u={},a={};if(!n.is(":hidden")&&!s){s=!0;switch(n.data("direction")){case"left":u["margin-left"]="+="+i;a.right="-="+i;break;default:u["margin-left"]="-="+i,a.left="-="+i}n.animate(a,o);r.animate(u,o,function(){n.hide();s=!1;"undefined"!=typeof t&&t()})}};i.click(function(e){e.stopPropagation()});e(document).bind("click keyup",function(t){"keyup"==t.type&&27!=t.keyCode||i.is(":visible")&&!i.data("modal")&&e.pageslide.close()})})(jQuery);(function(e){function t(t,n){return function(r,i,s){function a(){e.ajax(o).retry({times:n-1}).pipe(u.resolve,u.reject)}var o=this,u=new e.Deferred;n>1?t.timeout!==undefined?setTimeout(a,t.timeout):a():u.rejectWith(this,arguments);return u}}e.ajaxPrefilter(function(e,n,r){r.retry=function(e){e.timeout&&(this.timeout=e.timeout);return this.pipe(null,t(this,e.times))}})})(jQuery);(function(e,t,n){"$:nomunge";function c(){s=t[o](function(){r.each(function(){var t=e(this),n=t.width(),r=t.height(),i=e.data(this,a);(n!==i.w||r!==i.h)&&t.trigger(u,[i.w=n,i.h=r])});c()},i[f])}var r=e([]),i=e.resize=e.extend(e.resize,{}),s,o="setTimeout",u="resize",a=u+"-special-event",f="delay",l="throttleWindow";i[f]=250;i[l]=!0;e.event.special[u]={setup:function(){if(!i[l]&&this[o])return!1;var t=e(this);r=r.add(t);e.data(this,a,{w:t.width(),h:t.height()});r.length===1&&c()},teardown:function(){if(!i[l]&&this[o])return!1;var t=e(this);r=r.not(t);t.removeData(a);r.length||clearTimeout(s)},add:function(t){function s(t,i,s){var o=e(this),u=e.data(this,a);u.w=i!==n?i:o.width();u.h=s!==n?s:o.height();r.apply(this,arguments)}if(!i[l]&&this[o])return!1;var r;if(e.isFunction(t)){r=t;return s}r=t.handler;t.handler=s}}})(jQuery,this);!function(e){typeof define=="function"&&define.amd?define(["jquery"],e):TogglePanel=e(jQuery)}(function(e){function l(e){Array.prototype.slice.call(e.querySelectorAll("video")).forEach(function(e){e.parentNode.insertBefore(e.cloneNode(!0),e);e.parentNode.removeChild(e)})}var t=0,n="TogglePanel",r="togglepanel",i="toggle-panel",s=[],o=!!navigator.userAgent.match(/iPad/i),u=e(window),a=e(document.documentElement).addClass("js"),f=e(document.body);e.fn[n]=function(c){function h(n,c){var h=i+"-"+t++,p=e.Deferred(),d=e(n),v=d.attr("aria-controls"),m=v?d:d.children().first(),g=v?e("#"+v):d.children().slice(1);g=g.wrapAll("<div><div></div></div>").parent().parent().addClass(i+"-content");o&&l(n);c=e.extend(!0,{ajax:{enabled:d.hasClass("ajax"),message:{defaultError:"An error occured. Please try again later.",notFound:"404: The requested content could not be found.",timeout:"The requested content could not be delivered in a timely fashion."},retry:{times:2},selector:'[role="main"] > *'}},c);if(c.ajax.enabled){if(!c.ajax.settings||!c.ajax.settings.url){var y=g.children().find("a");c.ajax.settings.url=y.attr("href");y.data("ajax-selector")&&(c.ajax.selector=y.data("ajax-selector"))}e.ajaxPrefilter(function(e,t,n){typeof n.retry!="function"&&(n.retry=function(){return this})})}m.data("expanded-text")&&(c.expandedText=m.data("expanded-text"));c.expandedText&&(c.collapsedText=m.html());var b={version:"1.0.0",destroy:function(){for(var e=0;e<s.length;e++)clearTimeout(s[e]);m.removeAttr("role");v||m.removeAttr("aria-controls");g.removeClass("transition").children().children().unwrap().unwrap();d.removeAttr("aria-expanded tabindex").removeClass("transition").removeData(r).filter('[id="'+h+'"]').removeAttr("id").end().add([window,document.body,m[0]]).off("."+h).end().trigger(r+"destroy");return b},collapse:function(){c.collapsedText&&m.html(c.collapsedText);g.height(0);d.attr("aria-expanded",n.ariaExpanded=!1).removeClass("expanded").trigger(r+"collapse");return b},expand:function(){c.beforeExpand(p);p.always(function(e){e&&g.children().empty().append(e);c.expandedText&&m.html(c.expandedText);g.height(g.children().outerHeight());d.attr("aria-expanded",n.ariaExpanded=!0).addClass("expanded").trigger(r+"expand")});return b},toggle:function(){return b[n.ariaExpanded?"collapse":"expand"]()},resize:function(){n.ariaExpanded&&g.height(g.children().outerHeight());return b},extensions:{ajax:{load:function(t){if(!n.ariaBusy&&t.state()!=="resolved"&&t.state()!=="rejected"){d.attr({"aria-busy":n.ariaBusy=!0,"aria-live":"polite"});e.ajax(c.ajax.settings).retry(c.ajax.retry).always(function(){n.ariaBusy=!1;d.removeAttr("aria-busy")}).done(function(n){t.resolve(e("<html></html>").html(n).find(c.ajax.selector))}).fail(function(e){t.reject("<p>"+({"Not Found":c.ajax.message.notFound,timeout:c.ajax.message.timeout}[e.statusText]||c.ajax.message.defaultError)+"</p>")})}}},hashWatch:function(){var t={changeHash:function(e,n){var r=n[0].id;n[0].id="";location.hash=e;n[0].id=r;return t},expand:function(e,r){var i="#"+n.id===e?d:d.find(e);if(i.length){r&&r.preventDefault();b.expand();t.changeHash(e,i);setTimeout(function(){a.add(f).animate({scrollTop:i.offset().top})},250)}return t}};f.on("click."+h,'a[href^="#"]:not([href="#"])',function(n){t.expand(e(n.target).attr("href"),n)}).on("hashchange."+h,function(){t.expand(location.hash)});return t.expand(location.hash)},pauseMedia:function(){d.on(r+"collapse."+h,function(){g.find("audio, video").each(function(){this.pause()})})},saveState:function(e){if(typeof e!="object")return;var t={remove:function(){e.removeItem(h);return t},load:function(){var n=e.getItem(h),r=JSON.parse(n);r&&r.expanded&&b.expand();return t},save:function(){e.setItem(h,JSON.stringify({expanded:n.ariaExpanded}));return t}};o?d.on(r+"expand."+h+" "+r+"collapse."+h,t.save):u.on("unload."+h,t.save);return t.load()}}};c.beforeExpand||(c.beforeExpand=c.ajax.enabled?b.extensions.ajax.load:function(e){e.resolve()});(e.resize?d:u).on("resize."+h,b.resize);m.attr("role","button").on("click."+h,function(e){e.preventDefault();b.toggle()});d.attr("tabindex",0).on("keydown."+h,function(e){e.keyCode===32&&e.target===n&&b.toggle()});m.attr("aria-controls")||m.attr("aria-controls",n.id||(n.id=h));s.push(setTimeout(function(){b.collapse();c.hashWatch&&b.extensions.hashWatch();c.pauseMedia&&b.extensions.pauseMedia();c.saveState&&b.extensions.saveState({local:localStorage,session:sessionStorage}[c.saveState]);s.push(setTimeout(function(){g.addClass("transition");d.addClass("transition")}))}));return b}var p=Array.prototype.slice.call(arguments,1);return this.each(function(t){var i=e(this);i.data(r)?typeof i.data(r)[c]=="function"?i.data(r)[c].apply(this,p):e.error(n+' method name "'+c+'" does not exist.'):i.data(r,h(this,c))})}});!function(e){typeof define=="function"&&define.amd?define(e):Index=e()}(function(){return function(e,t){var n={version:"1.0.5",loop:!1,removed:[],added:[],active:[],first:t||0,last:e,span:e-(t||0)+1,back:[],set:function(e){n.curr=r(e);var t=[n.curr];(n.prev=n.curr-1)<n.first||t.unshift(n.prev);(n.next=n.curr+1)>n.last||t.push(n.next);n.prev=r(n.prev);n.next=r(n.next);typeof _=="function"&&(n.removed=_.difference(n.active,t),n.added=_.difference(t,n.active));n.active=t;n.back[0]&&(n.direction=n.curr>n.back[0].prev?1:-1);n.back.unshift({prev:n.prev,curr:n.curr,next:n.next});return n}},r=function(e){return n.loop?e>n.last?n.first:e<n.first?n.last:e:Math.min(Math.max(e,n.first),n.last)};return n}});!function(e){typeof define=="function"&&define.amd?define(["index","jquery","jquery.ba-resize"],e):TabsAccordion=e(Index,jQuery)}(function(e,t){var n=0,r="tabsaccordion",i=t(window),s=t(document.documentElement).addClass("js"),o=t(document.body);t.resize.throttleWindow=!1;t.fn.TabsAccordion=function(s){function u(s,u){var a=r+"-"+n++,f=t(s),l,c,h,p,d={version:"1.1.2",type:f.hasClass("accordion")&&"accordion"||f.hasClass("tabs")&&"tabs",create:function(){l=f.children();c=l.children(":first-child");if(d.index)var n=d.index.curr;(d.index=e(l.length-1)).loop=!0;n&&d.index.set(n);d.type==="tabs"&&f.prepend((c=d.tabsCreateTablist(c).children()).end());h=(d.type==="tabs"?c.parent():f).attr("role","tablist");c.attr({id:function(e){return this.id||a+"-tab-"+e},role:"tab"});(p=l.map(function(e){return t(this).attr({"aria-labelledby":c[e].id,id:this.id||a+"-panel-"+e,role:"tabpanel"}).children().slice(1).wrapAll("<div><div></div></div>").parent().parent().get()})).each(d.collapse);f.attr({id:s.id||a,tabindex:0}).on("click."+a,d.type==="accordion"&&"> * > :first-child"||"> :first-child > *",function(e){d.goTo(c.index(e.target))}).on("keydown."+a,function(e){if(e.target!==s)return;var t={37:"prev",38:"prev",39:"next",40:"next"}[e.keyCode];if(t){e.preventDefault();d.goTo(d.index[t])}}).on("resize."+a,d.resize).trigger("create");u.saveState&&d.extensions.saveState(u.saveState);u.responsiveSwitch&&d.extensions.responsiveSwitch(u.responsiveSwitch);u.hashWatch&&d.extensions.hashWatch();u.pauseMedia&&d.extensions.pauseMedia();typeof d.index.curr!="number"&&d.index.set(0);setTimeout(function(){f.addClass("transition")});return d.expand(d.index.curr)},destroy:function(e){if(d.type==="tabs"){f.height("auto");h.remove()}else{c.removeAttr("role").filter('[id^="'+a+'"]').removeAttr("id");h.removeAttr("role")}l.removeAttr("aria-expanded aria-labelledby role").filter('[id^="'+a+'"]').removeAttr("id");p.children().children().unwrap().unwrap();e||f.removeData(r).removeData("responsiveBreakpoint."+a);f.add([window,document.body]).off("."+a).end().removeAttr("aria-activedescendant tabindex").removeClass(d.type).filter('[id^="'+a+'"]').removeAttr("id").end().trigger("destroy");return d},resize:function(){d.type==="tabs"?f.height(h.outerHeight()+l.eq(d.index.curr).outerHeight()):d.type==="accordion"&&l[d.index.curr].ariaExpanded&&p.eq(d.index.curr).height(p.eq(d.index.curr).children().outerHeight());return d},expand:function(e){var t=l.eq(e).attr("aria-expanded",l[e].ariaExpanded=!0);d.resize().type==="tabs"&&c.eq(e).addClass("current");f.attr("aria-activedescendant",l[d.index.curr].id).trigger("expand",[e,t]);return d},collapse:function(e){var t=l.eq(e).attr("aria-expanded",l[e].ariaExpanded=!1);d.type==="tabs"?c.eq(e).removeClass("current"):p.eq(e).height(0);f.trigger("collapse",[e,t]);return d},goTo:function(e){d.index.curr!==e&&typeof d.index.curr=="number"&&d.collapse(d.index.curr);d.index.set(e);return d[d.type==="accordion"&&l.eq(e).prop("ariaExpanded")?"collapse":"expand"](d.index.curr)},tabsCreateTablist:u.tabsCreateTablist||function(e){for(var n=0,r="";n<e.length;n++)r+="<li>"+e[n].innerHTML+"</li>";return t("<ul>"+r+"</ul>")},extensions:{hashWatch:function(){var e=l.index(l.filter(location.hash));e>=0&&d.goTo(e);o.on("click."+a,'a[href^="#"]:not([href="#"])',function(t){(e=l.index(l.filter(this.getAttribute("href"))))>=0&&d.goTo(e)})},saveStateLoaded:!1,saveState:function(e){if(typeof e!="object")return;var t={remove:function(){e.removeItem(a)},load:function(){var t=e.getItem(a),n=JSON.parse(t);n&&n.current&&d.index.set(n.current);d.extensions.saveStateLoaded=!0},save:function(){e.setItem(a,JSON.stringify({current:d.index.curr,expanded:l[d.index.curr].ariaExpanded}))}};d.extensions.saveStateLoaded||t.load();i.on("unload."+a,t.save);return t},responsiveSwitch:function(e){function t(){for(var e=0,t=0;e<c.length;e++)t+=c.eq(e).outerWidth(!0);return t}function n(e){var t=d.index.curr,n=l[t].ariaExpanded;d.destroy(!0);f.addClass(d.type=e);d.index.set(t);d.create();f.trigger("typechange",e)}function r(){var t=f.outerWidth()<=e?"accordion":"tabs";d.type!==t&&n(t)}e==="tablist"&&(d.type==="tabs"?f.data("responsiveBreakpoint."+a,e=t()):e=f.data("responsiveBreakpoint."+a));f.on("resize."+a,r)},pauseMedia:function(){if(typeof Modernizr=="undefined"||!Modernizr.audio||!Modernizr.video||!f.find("audio, video").length)return;f.on("collapse."+a,function(e,t,n){n.find("audio, video").each(function(){this.pause()})})}}};return d.create()}var s=s||{},a=Array.prototype.slice.call(arguments,1);return this.each(function(e){var n=t(this);return n.data(r)?n.data(r)[s].apply(this,a):n.data(r,u(this,s))})}});(function(e,t){e.JMSlideshow=function(t,n){this.$el=e(n);this._init(t)};e.JMSlideshow.defaults={jmpressOpts:{viewPort:{height:400,width:1e3,maxScale:1},fullscreen:!1,hash:{use:!1},mouse:{clickSelects:!1},keyboard:{use:!1},animation:{transitionDuration:"1s"}},arrows:!0,dots:!0,bgColorSpeed:"1s",autoplay:!1,interval:3500};e.JMSlideshow.prototype={_init:function(t){this.options=e.extend(!0,{},e.JMSlideshow.defaults,t);this.$slides=e("#jms-slideshow").children("div");this.slidesCount=this.$slides.length;this.colors=e.map(this.$slides,function(t,n){return e(t).data("color")}).join(" ");this._layout();this._initImpress();if(this.support){this._loadEvents();this.options.autoplay&&this._startSlideshow()}},_layout:function(){this.$slides.each(function(t){e(this).addClass("jmstep"+(t+1))});this.$jmsWrapper=this.$slides.wrapAll('<div class="jms-wrapper"/>').parent();this.$jmsWrapper.css({"-webkit-transition-duration":this.options.bgColorSpeed,"-moz-transition-duration":this.options.bgColorSpeed,"-ms-transition-duration":this.options.bgColorSpeed,"-o-transition-duration":this.options.bgColorSpeed,"transition-duration":this.options.bgColorSpeed});if(this.options.arrows){this.$arrows=e('<nav class="jms-arrows"></nav>');if(this.slidesCount>1){this.$arrowPrev=e('<span class="jms-arrows-prev"/>').appendTo(this.$arrows);this.$arrowNext=e('<span class="jms-arrows-next"/>').appendTo(this.$arrows)}this.$el.append(this.$arrows)}if(this.options.dots){this.$dots=e('<nav class="jms-dots"></nav>');for(var t=this.slidesCount+1;--t;)this.$dots.append(t===this.slidesCount?'<span class="jms-dots-current"/>':"<span/>");if(this.options.jmpressOpts.start){this.$start=this.$jmsWrapper.find(this.options.jmpressOpts.start),idxSelected=0;this.$start.length?idxSelected=this.$start.index():this.options.jmpressOpts.start=null;this.$dots.children().removeClass("jms-dots-current").eq(idxSelected).addClass("jms-dots-current")}this.$el.append(this.$dots)}},_initImpress:function(){var e=this;this.$jmsWrapper.jmpress(this.options.jmpressOpts);this.support=!this.$jmsWrapper.hasClass("not-supported");if(!this.support){this.$arrows&&this.$arrows.remove();this.$dots&&this.$dots.remove();return!1}this.$jmsWrapper.jmpress("setActive",function(t,n){e.options.dots&&e.$dots.children().removeClass("jms-dots-current").eq(t.index()).addClass("jms-dots-current");this.removeClass(e.colors);this.addClass(t.data("color"))});this.$jmsWrapper.addClass(this.$jmsWrapper.jmpress("active").data("color"))},_startSlideshow:function(){var e=this;this.slideshow=setTimeout(function(){e.$jmsWrapper.jmpress("next");e.options.autoplay&&e._startSlideshow()},this.options.interval)},_stopSlideshow:function(){if(this.options.autoplay){clearTimeout(this.slideshow);this.options.autoplay=!1}},_loadEvents:function(){var t=this;if(this.$arrowPrev&&this.$arrowNext){this.$arrowPrev.on("click.jmslideshow",function(e){t._stopSlideshow();t.$jmsWrapper.jmpress("prev");return!1});this.$arrowNext.on("click.jmslideshow",function(e){t._stopSlideshow();t.$jmsWrapper.jmpress("next");return!1})}this.$dots&&this.$dots.children().on("click.jmslideshow",function(n){t._stopSlideshow();t.$jmsWrapper.jmpress("goTo",".jmstep"+(e(this).index()+1));return!1});this.$jmsWrapper.on("touchend.jmslideshow",function(){t._stopSlideshow()})}};var n=function(e){this.console&&console.error(e)};e.fn.jmslideshow=function(t){if(typeof t=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e.data(this,"jmslideshow");if(!i){n("cannot call methods on jmslideshow prior to initialization; attempted to call method '"+t+"'");return}if(!e.isFunction(i[t])||t.charAt(0)==="_"){n("no such method '"+t+"' for jmslideshow instance");return}i[t].apply(i,r)})}else this.each(function(){var n=e.data(this,"jmslideshow");n||e.data(this,"jmslideshow",new e.JMSlideshow(t,this))});return this}})(jQuery);(function(e,t,n,r){function i(e){if(!e)return;var t=1+e.substr(1).search(/[A-Z]/),n=e.substr(0,t).toLowerCase(),r=e.substr(t).toLowerCase();return"-"+n+"-"+r}function s(e){return e?e+",":""}function o(i){function s(t,n){var r=l(t),i={oldStyle:e(t).attr("style")||""},s={data:r,stepData:i};c.call(this,"beforeInitStep",e(t),s),i.delegate=r.delegate,c.call(this,"initStep",e(t),s),e(t).data("stepData",i),e(t).attr("id")||e(t).attr("id","step-"+(n+1)),c.call(this,"applyStep",e(t),s)}function o(t){var n=e(t).data("stepData");e(t).attr("style",n.oldStyle),c.call(this,"unapplyStep",e(t),{stepData:n})}function u(t){c.call(this,"unapplyStep",e(t),{stepData:t.data("stepData")}),c.call(this,"applyStep",e(t),{stepData:t.data("stepData")})}function a(){F&&c.call(this,"setInactive",F,{stepData:e(F).data("stepData"),reason:"deinit"}),j.jmpressClass&&e(_).removeClass(j.jmpressClass),c.call(this,"beforeDeinit",e(this),{}),e(M.stepSelector,_).each(function(e){o.call(_,this)}),D.attr("style",H.container),M.fullscreen&&e("html").attr("style",""),P.attr("style",H.area),e(B).children().each(function(){_.append(e(this))}),M.fullscreen?B.remove():(B.remove(),P.remove()),c.call(this,"afterDeinit",e(this),{}),e(_).data("jmpressmethods",!1)}function c(t,n,r){r.settings=M,r.current=j,r.container=D,r.parents=n?v(n):null,r.current=j,r.jmpress=this;var i={};return e.each(M[t],function(e,t){i.value=t.call(_,n,r)||i.value}),i.value}function h(){if(!F)return;var t=e(F).near(M.stepSelector).add(e(F).near(M.stepSelector,!0)).add(c.call(this,"selectPrev",F,{stepData:e(F).data("stepData")})).add(c.call(this,"selectNext",F,{stepData:e(F).data("stepData")}));t.each(function(){var t=this;if(e(t).hasClass(M.loadedClass))return;setTimeout(function(){if(e(t).hasClass(M.loadedClass))return;c.call(_,"loadStep",t,{stepData:e(t).data("stepData")}),e(t).addClass(M.loadedClass)},M.transitionDuration-100)});if(e(F).hasClass(M.loadedClass))return;c.call(_,"loadStep",F,{stepData:e(F).data("stepData")}),e(F).addClass(M.loadedClass)}function v(t){var n=[],r=t;while(e(r).parent().length&&e(r).parent().is(M.stepSelector))r=e(r).parent(),n.push(r[0]);return n}function m(e){return g({step:F,substep:I},e)}function g(t,n){var i;e.isPlainObject(t)&&(i=t.substep,t=t.step),typeof t=="string"&&(t=_.find(t).first());if(!t||!e(t).data("stepData"))return!1;y.call(this);var s=e(t).data("stepData"),o=!1;c.call(this,"beforeChange",t,{stepData:s,reason:n,cancel:function(){o=!0}});if(o)return r;var u=
{},a=t;e(t).data("stepData").delegate&&(a=e(t).parentsUntil(_).filter(M.stepSelector).filter(s.delegate)||e(t).near(s.delegate)||e(t).near(s.delegate,!0)||e(s.delegate,_),s=a.data("stepData")),q&&c.call(this,"setInactive",q,{stepData:e(q).data("stepData"),delegatedFrom:F,reason:n,target:u,nextStep:a,nextSubstep:i,nextStepData:s});var f={stepData:s,delegatedFrom:t,reason:n,target:u,substep:i,prevStep:q,prevSubstep:I,prevStepData:q&&e(q).data("stepData")};return c.call(this,"beforeActive",a,f),c.call(this,"setActive",a,f),j.jmpressClass&&e(_).removeClass(j.jmpressClass),e(_).addClass(j.jmpressClass="step-"+e(a).attr("id")),j.jmpressDelegatedClass&&e(_).removeClass(j.jmpressDelegatedClass),e(_).addClass(j.jmpressDelegatedClass="delegating-step-"+e(t).attr("id")),c.call(this,"applyTarget",F,e.extend({canvas:B,area:P},f)),F=t,I=f.substep,q=a,h.call(this),a}function y(){function t(){function r(){(e(D).scrollTop()!==0||e(D).scrollLeft()!==0)&&t()}e(D)[0].tagName==="BODY"&&n.scrollTo(0,0),e(D).scrollTop(0),e(D).scrollLeft(0),setTimeout(r,1),setTimeout(r,10),setTimeout(r,100),setTimeout(r,200),setTimeout(r,400)}t()}function w(e){return g.call(this,e,"jump")}function E(){return g.call(this,c.call(this,"selectNext",F,{stepData:e(F).data("stepData"),substep:I}),"next")}function S(){return g.call(this,c.call(this,"selectPrev",F,{stepData:e(F).data("stepData"),substep:I}),"prev")}function x(){return g.call(this,c.call(this,"selectHome",F,{stepData:e(F).data("stepData")}),"home")}function T(){return g.call(this,c.call(this,"selectEnd",F,{stepData:e(F).data("stepData")}),"end")}function N(t){return f(B,t||{}),e(B)}function C(){return q&&e(q)}function k(t,n,r){d[t]?c.call(this,t,n,r):e.error("callback "+t+" is not registered.")}function L(){var e=navigator.userAgent.toLowerCase(),t=e.search(/(iphone)|(ipod)|(android)/)===-1;return t}i=e.extend(!0,{},i||{});var A={},O=null;for(O in d)A[O]=e.isFunction(i[O])?[i[O]]:i[O],i[O]=[];var M=e.extend(!0,{},p,i);for(O in d)A[O]&&Array.prototype.push.apply(M[O],A[O]);var _=e(this),D=null,P=null,H={container:"",area:""},B=null,j=null,F=!1,I=null,q=!1;_.data("jmpressmethods",{select:g,reselect:m,scrollFix:y,goTo:w,next:E,prev:S,home:x,end:T,canvas:N,container:function(){return D},settings:function(){return M},active:C,current:function(){return j},fire:k,deinit:a,reapply:u});if(L()===!1){M.notSupportedClass&&_.addClass(M.notSupportedClass);return}M.notSupportedClass&&_.removeClass(M.notSupportedClass);var R=e(M.stepSelector,_);D=_,P=e("<div />"),B=e("<div />"),e(_).children().filter(R).each(function(){B.append(e(this))}),M.fullscreen&&(D=e("body"),e("html").css({overflow:"hidden"}),P=_),H.area=P.attr("style")||"",H.container=D.attr("style")||"",M.fullscreen?(D.css({height:"100%"}),_.append(B)):(D.css({position:"relative"}),P.append(B),_.append(P)),e(D).addClass(M.containerClass),e(P).addClass(M.areaClass),e(B).addClass(M.canvasClass),t.documentElement.style.height="100%",D.css({overflow:"hidden"});var U={position:"absolute",transitionDuration:"0s"};U=e.extend({},M.animation,U),f(P,U),f(P,{top:"50%",left:"50%",perspective:"1000px"}),f(B,U),j={},c.call(this,"beforeInit",null,{}),R.each(function(e){s.call(_,this,e)}),c.call(this,"afterInit",null,{}),g.call(this,c.call(this,"selectInitialStep","init",{})),M.initClass&&e(R).removeClass(M.initClass)}function u(){return p}function a(t,n){e.isFunction(n)?m[t]?e.error("function "+t+" is already registered."):m[t]=n:d[t]?e.error("callback "+t+" is already registered."):(d[t]=1,p[t]=[])}function f(t,n){var r,i,s={};for(r in n)n.hasOwnProperty(r)&&(i=h(r),i!==null&&(s[i]=n[r]));return e(t).css(s),t}function l(t){function n(e){e=e.split("-");for(var t=1;t<e.length;t++)e[t]=e[t].substr(0,1).toUpperCase()+e[t].substr(1);return e.join("")}if(e(t)[0].dataset)return e.extend({},e(t)[0].dataset);var r={},i=e(t)[0].attributes;return e.each(i,function(e,t){t.nodeName.substr(0,5)==="data-"&&(r[n(t.nodeName.substr(5))]=t.nodeValue)}),r}function c(){return!!e(this).data("jmpressmethods")}"use strict";var h=function(){var e=t.createElement("dummy").style,n="Webkit Moz O ms Khtml".split(" "),i={};return function(t){if(typeof i[t]=="undefined"){var s=t.charAt(0).toUpperCase()+t.substr(1),o=(t+" "+n.join(s+" ")+s).split(" ");i[t]=null;for(var u in o)if(e[o[u]]!==r){i[t]=o[u];break}}return i[t]}}(),p={stepSelector:".step",containerClass:"",canvasClass:"",areaClass:"",notSupportedClass:"not-supported",loadedClass:"loaded",fullscreen:!0,animation:{transformOrigin:"top left",transitionProperty:s(i(h("transform")))+s(i(h("perspective")))+"opacity",transitionDuration:"1s",transitionDelay:"500ms",transitionTimingFunction:"ease-in-out",transformStyle:"preserve-3d"},transitionDuration:1500,test:!1},d={beforeChange:1,beforeInitStep:1,initStep:1,beforeInit:1,afterInit:1,beforeDeinit:1,afterDeinit:1,applyStep:1,unapplyStep:1,setInactive:1,beforeActive:1,setActive:1,selectInitialStep:1,selectPrev:1,selectNext:1,selectHome:1,selectEnd:1,loadStep:1,applyTarget:1};for(var v in d)p[v]=[];var m={init:o,initialized:c,deinit:function(){},css:f,pfx:h,defaults:u,register:a,dataset:l};e.fn.jmpress=function(t){function n(){var n=e(this).data("jmpressmethods");if(n&&n[t]){if(t.substr(0,1)!=="_"||n.settings().test!==!1)return n[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" is protected and should only be used internally.")}else if(m[t]){if(t.substr(0,1)!=="_"||p.test!==!1)return m[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" is protected and should only be used internally.")}else if(d[t]&&n){var r=n.settings(),i=Array.prototype.slice.call(arguments,1)[0];e.isFunction(i)&&(r[t]=r[t]||[],r[t].push(i))}else{if(typeof t=="object"||!t)return o.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.jmpress")}return this}var r=arguments,i;return e(this).each(function(e,t){i=n.apply(t,r)}),i},e.extend({jmpress:function(t){if(m[t]){if(t.substr(0,1)!=="_"||p.test!==!1)return m[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" is protected and should only be used internally.")}else if(d[t]){var n=Array.prototype.slice.call(arguments,1)[0];e.isFunction(n)?p[t].push(n):e.error("Second parameter should be a function: $.jmpress( callbackName, callbackFunction )")}else e.error("Method "+t+" does not exist on jQuery.jmpress")}})})(jQuery,document,window),function(e,t,n,r){function i(t,n,r,i){var s;return t.each(function(t,o){if(i){s=n(o,r,i);if(s)return!1}if(e(o).is(r))return s=o,!1;if(!i){s=n(o,r,i);if(s)return!1}}),s}function s(t,n,r){var o=e(t).children();return r&&(o=e(o.get().reverse())),i(o,s,n,r)}function o(t,n,r){return i(e(t)[r?"prevAll":"nextAll"](),s,n,r)}function u(t,n,r){var i,s=e(t).parents();return s=e(s.get()),e.each(s.get(),function(t,s){if(r&&e(s).is(n))return i=s,!1;i=o(s,n,r);if(i)return!1}),i}"use strict",e.fn.near=function(t,n){var r=[];return e(this).each(function(e,i){var a=(n?!1:s(i,t,n))||o(i,t,n)||u(i,t,n);a&&r.push(a)}),e(r)}}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}function s(e){return Math.round(1e4*e)/1e4+""}"use strict";var o={3:{transform:function(t,n){var r="translate(-50%,-50%)";e.each(n,function(e,t){var n=["X","Y","Z"],i;if(t[0]==="translate")r+=" translate3d("+s(t[1]||0)+"px,"+s(t[2]||0)+"px,"+s(t[3]||0)+"px)";else if(t[0]==="rotate"){var o=t[4]?[1,2,3]:[3,2,1];for(i=0;i<3;i++)r+=" rotate"+n[o[i]-1]+"("+s(t[o[i]]||0)+"deg)"}else if(t[0]==="scale")for(i=0;i<3;i++)r+=" scale"+n[i]+"("+s(t[i+1]||1)+")"}),e.jmpress("css",t,e.extend({},{transform:r}))}},2:{transform:function(t,n){var r="translate(-50%,-50%)";e.each(n,function(e,t){var n=["X","Y"];if(t[0]==="translate")r+=" translate("+s(t[1]||0)+"px,"+s(t[2]||0)+"px)";else if(t[0]==="rotate")r+=" rotate("+s(t[3]||0)+"deg)";else if(t[0]==="scale")for(var i=0;i<2;i++)r+=" scale"+n[i]+"("+s(t[i+1]||1)+")"}),e.jmpress("css",t,e.extend({},{transform:r}))}},1:{transform:function(t,n){var r={top:0,left:0};e.each(n,function(e,t){var n=["X","Y"];t[0]==="translate"&&(r.left=Math.round(t[1]||0)+"px",r.top=Math.round(t[2]||0)+"px")}),t.animate(r,1e3)}}},u=function(){return e.jmpress("pfx","perspective")?o[3]:e.jmpress("pfx","transform")?o[2]:o[1]}();e.jmpress("defaults").reasonableAnimation={},e.jmpress("initStep",function(t,n){var r=n.data,i=n.stepData,s=parseFloat;e.extend(i,{x:s(r.x)||0,y:s(r.y)||0,z:s(r.z)||0,r:s(r.r)||0,phi:s(r.phi)||0,rotate:s(r.rotate)||0,rotateX:s(r.rotateX)||0,rotateY:s(r.rotateY)||0,rotateZ:s(r.rotateZ)||0,revertRotate:!1,scale:s(r.scale)||1,scaleX:s(r.scaleX)||!1,scaleY:s(r.scaleY)||!1,scaleZ:s(r.scaleZ)||1})}),e.jmpress("afterInit",function(t,n){var r=n.settings.stepSelector,i=n.current;i.perspectiveScale=1,i.maxNestedDepth=0;var s=e(n.jmpress).find(r).children(r);while(s.length)i.maxNestedDepth++,s=s.children(r)}),e.jmpress("applyStep",function(t,n){e.jmpress("css",e(t),{position:"absolute",transformStyle:"preserve-3d"}),n.parents.length>0&&e.jmpress("css",e(t),{top:"50%",left:"50%"});var r=n.stepData,i=[["translate",r.x||r.r*Math.sin(r.phi*Math.PI/180),r.y||-r.r*Math.cos(r.phi*Math.PI/180),r.z],["rotate",r.rotateX,r.rotateY,r.rotateZ||r.rotate,!0],["scale",r.scaleX||r.scale,r.scaleY||r.scale,r.scaleZ||r.scale]];u.transform(t,i)}),e.jmpress("setActive",function(t,n){var i=n.target,s=n.stepData,o=i.transform=[];i.perspectiveScale=1;for(var u=n.current.maxNestedDepth;u>(n.parents.length||0);u--)o.push(["scale"],["rotate"],["translate"]);o.push(["scale",1/(s.scaleX||s.scale),1/(s.scaleY||s.scale),1/s.scaleZ]),o.push(["rotate",-s.rotateX,-s.rotateY,-(s.rotateZ||s.rotate)]),o.push(["translate",-(s.x||s.r*Math.sin(s.phi*Math.PI/180)),-(s.y||-s.r*Math.cos(s.phi*Math.PI/180)),-s.z]),i.perspectiveScale*=s.scaleX||s.scale,e.each(n.parents,function(t,n){var r=e(n).data("stepData");o.push(["scale",1/(r.scaleX||r.scale),1/(r.scaleY||r.scale),1/r.scaleZ]),o.push(["rotate",-r.rotateX,-r.rotateY,-(r.rotateZ||r.rotate)]),o.push(["translate",-(r.x||r.r*Math.sin(r.phi*Math.PI/180)),-(r.y||-r.r*Math.cos(r.phi*Math.PI/180)),-r.z]),i.perspectiveScale*=r.scaleX||r.scale}),e.each(o,function(e,t){function i(i){n.current["rotate"+i+"-"+e]===r&&(n.current["rotate"+i+"-"+e]=t[i]||0);var s=n.current["rotate"+i+"-"+e],o=t[i]||0,u=s%360,f=o%360;u<0&&(u+=360),f<0&&(f+=360);var l=f-u;l<-180?l+=360:l>180&&(l-=360),n.current["rotate"+i+"-"+e]=t[i]=s+l}if(t[0]!=="rotate")return;i(1),i(2),i(3)})}),e.jmpress("applyTarget",function(t,n){var r=n.target,i,s=n.stepData,o=n.settings,f=r.perspectiveScale*1.3<n.current.perspectiveScale,l=r.perspectiveScale>n.current.perspectiveScale*1.3,c=-1;e.each(r.transform,function(e,t){if(t.length<=1)return;if(t[0]==="rotate"&&t[1]%360===0&&t[2]%360===0&&t[3]%360===0)return;if(t[0]!=="scale")return!1;c=e}),c!==n.current.oldLastScale&&(f=l=!1,n.current.oldLastScale=c);var p=[];if(c!==-1)while(c>=0)r.transform[c][0]==="scale"&&(p.push(r.transform[c]),r.transform[c]=["scale"]),c--;var d=o.animation;o.reasonableAnimation[n.reason]&&(d=e.extend({},d,o.reasonableAnimation[n.reason])),i={perspective:Math.round(r.perspectiveScale*1e3)+"px"},i=e.extend({},d,i),f||(i.transitionDelay="0s"),t||(i.transitionDuration="0s",i.transitionDelay="0s"),e.jmpress("css",n.area,i),u.transform(n.area,p),i=e.extend({},d),l||(i.transitionDelay="0s"),t||(i.transitionDuration="0s",i.transitionDelay="0s"),n.current.perspectiveScale=r.perspectiveScale,e.jmpress("css",n.canvas,i),u.transform(n.canvas,r.transform)})}(jQuery,document,window),function(e,t,n,r){"use strict";var i=e.jmpress,s="activeClass",o="nestedActiveClass",u=i("defaults");u[o]="nested-active",u[s]="active",i("setInactive",function(t,n){var r=n.settings,i=r[s],u=r[o];i&&e(t).removeClass(i),u&&e.each(n.parents,function(t,n){e(n).removeClass(u)})}),i("setActive",function(t,n){var r=n.settings,i=r[s],u=r[o];i&&e(t).addClass(i),u&&e.each(n.parents,function(t,n){e(n).addClass(u)})})}(jQuery,document,window),function(e,t,n,r){function i(t,n){return e(this).find(n.settings.stepSelector).first()}function s(t,n,r,i){if(!n)return!1;var s=r.settings.stepSelector;n=e(n);do{var o=n.near(s,i);if(o.length===0||o.closest(t).length===0)o=e(t).find(s)[i?"last":"first"]();if(!o.length)return!1;n=o}while(n.data("stepData").exclude);return n}"use strict";var o=e.jmpress;o("initStep",function(e,t){t.stepData.exclude=t.data.exclude&&["false","no"].indexOf(t.data.exclude)===-1}),o("selectInitialStep",i),o("selectHome",i),o("selectEnd",function(t,n){return e(this).find(n.settings.stepSelector).last()}),o("selectPrev",function(e,t){return s(this,e,t,!0)}),o("selectNext",function(e,t){return s(this,e,t)})}(jQuery,document,window),function(e,t,n,r){"use strict",e.jmpress("selectInitialStep",function(e,t){return t.settings.start})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}function s(t,n,r){for(var i=0;i<n.length-1;i++){var s=n[i],o=n[i+1];e(s,t).attr("data-"+r,o)}}function o(t,n,r,i){var s=n.stepData;if(s[r]){var o=e(t).near(s[r],i);if(o&&o.length)return o;o=e(s[r],this)[i?"last":"first"]();if(o&&o.length)return o}}"use strict";var u=e.jmpress;u("register","route",function(e,t,n){typeof e=="string"&&(e=[e,e]),s(this,e,n?"prev":"next"),t||s(this,e.reverse(),n?"next":"prev")}),u("initStep",function(e,t){for(var n in{next:1,prev:1})t.stepData[n]=t.data[n]}),u("selectNext",function(e,t){return o(e,t,"next")}),u("selectPrev",function(e,t){return o(e,t,"prev",!0)})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}"use strict";var s=e.jmpress,o="afterStepLoaded";s("register",o),s("initStep",function(t,n){n.stepData.src=e(t).attr("href")||n.data.src||!1}),s("loadStep",function(t,n){var r=n.stepData,i=r&&r.src;i&&e(t).load(i,function(r,i,s){e(n.jmpress).jmpress("fire",o,t,e.extend({},n,{response:r,status:i,xhr:s}))})})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}function s(t){try{var i=e("#"+n.location.hash.replace(/^#\/?/,""));return i.length>0&&i.is(t.stepSelector)?i:r}catch(s){}}"use strict";var o=e.jmpress,u="a[href^=#]";o("defaults").hash={use:!0,update:!0,bindChange:!0},o("selectInitialStep",function(t,r){var o=r.settings,l=o.hash,p=r.current,d=e(this);r.current.hashNamespace=".jmpress-"+i();if(l.use)return l.bindChange&&(e(n).bind("hashchange"+p.hashNamespace,function(){var e=s(o);d.jmpress("initialized")&&d.jmpress("scrollFix");if(e&&e.length){e.attr("id")!==d.jmpress("active").attr("id")&&d.jmpress("select",e);var t="#/"+e.attr("id");n.location.hash!==t&&(n.location.hash=t)}}),e(u).on("click"+p.hashNamespace,function(t){var n=e(this).attr("href");try{e(n).is(o.stepSelector)&&(d.jmpress("select",n),t.preventDefault(),t.stopPropagation())}catch(r){}})),s(o)}),o("afterDeinit",function(t,r){e(u).off(r.current.hashNamespace),e(n).unbind(r.current.hashNamespace)}),o("setActive",function(t,r){var i=r.settings,s=r.current;i.hash.use&&i.hash.update&&(clearTimeout(s.hashtimeout),s.hashtimeout=setTimeout(function(){n.location.hash="#/"+e(r.delegatedFrom).attr("id")},i.transitionDuration+200))})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}function s(e){e.preventDefault(),e.stopPropagation()}"use strict";var o=e.jmpress,u="next",a="prev";o("defaults").keyboard={use:!0,keys:{33:a,37:a,38:a,9:u+":"+a,32:u,34:u,39:u,40:u,36:"home",35:"end"},ignore:{INPUT:[32,37,38,39,40],TEXTAREA:[32,37,38,39,40],SELECT:[38,40]},tabSelector:"a[href]:visible, :input:visible"},o("afterInit",function(n,o){var u=o.settings,a=u.keyboard,f=a.ignore,l=o.current,c=e(this);u.fullscreen||c.attr("tabindex",0),l.keyboardNamespace=".jmpress-"+i(),e(u.fullscreen?t:c).bind("keypress"+l.keyboardNamespace,function(e){for(var t in f)if(e.target.nodeName===t&&f[t].indexOf(e.which)!==-1)return;(e.which>=37&&e.which<=40||e.which===32)&&s(e)}),e(u.fullscreen?t:c).bind("keydown"+l.keyboardNamespace,function(t){var n=e(t.target);if(!u.fullscreen&&!n.closest(c).length||!a.use)return;for(var i in f)if(n[0].nodeName===i&&f[i].indexOf(t.which)!==-1)return;var o=!1,l;if(t.which===9){n.closest(c.jmpress("active")).length?(l=n.near(a.tabSelector,t.shiftKey),e(l).closest(u.stepSelector).is(c.jmpress("active"))||(l=r)):t.shiftKey?o=!0:l=c.jmpress("active").find("a[href], :input").filter(":visible").first();if(l&&l.length>0){l.focus(),c.jmpress("scrollFix"),s(t);return}t.shiftKey&&(o=!0)}var h=a.keys[t.which];typeof h=="string"?(h.indexOf(":")!==-1&&(h=h.split(":"),h=t.shiftKey?h[1]:h[0]),c.jmpress(h),s(t)):e.isFunction(h)?h.call(c,t):h&&(c.jmpress.apply(c,h),s(t)),o&&(l=c.jmpress("active").find("a[href], :input").filter(":visible").last(),l.focus(),c.jmpress("scrollFix"))})}),o("afterDeinit",function(n,r){e(t).unbind(r.current.keyboardNamespace)})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}function s(e,t){return Math.max(Math.min(e,t),-t)}function o(t,n,r){var i=e(this).jmpress("current"),o=e(this).jmpress("settings"),u=e(this).jmpress("active").data("stepData"),a=e(this).jmpress("container");if(i.userZoom===0&&r<0)return;var f=u.viewPortZoomable||o.viewPort.zoomable;if(i.userZoom===f&&r>0)return;i.userZoom+=r;var l=e(a).innerWidth()/2,c=e(a).innerHeight()/2;t=t?t-l:t,n=n?n-c:n,i.userTranslateX=s(i.userTranslateX-r*t/i.zoomOriginWindowScale/f,l*i.userZoom*i.userZoom/f),i.userTranslateY=s(i.userTranslateY-r*n/i.zoomOriginWindowScale/f,c*i.userZoom*i.userZoom/f),e(this).jmpress("reselect","zoom")}"use strict";var u=e.jmpress("defaults");u.viewPort={width:!1,height:!1,maxScale:0,minScale:0,zoomable:0,zoomBindMove:!0,zoomBindWheel:!0};var a=u.keyboard.keys;a[e.browser.mozilla?107:187]="zoomIn",a[e.browser.mozilla?109:189]="zoomOut",u.reasonableAnimation.resize={transitionDuration:"0s",transitionDelay:"0ms"},u.reasonableAnimation.zoom={transitionDuration:"0s",transitionDelay:"0ms"},e.jmpress("initStep",function(e,t){for(var n in{viewPortHeight:1,viewPortWidth:1,viewPortMinScale:1,viewPortMaxScale:1,viewPortZoomable:1})t.stepData[n]=t.data[n]&&parseFloat(t.data[n])}),e.jmpress("afterInit",function(s,o){var u=this;o.current.viewPortNamespace=".jmpress-"+i(),e(n).bind("resize"+o.current.viewPortNamespace,function(t){e(u).jmpress("reselect","resize")}),o.current.userZoom=0,o.current.userTranslateX=0,o.current.userTranslateY=0,o.settings.viewPort.zoomBindWheel&&e(o.settings.fullscreen?t:this).bind("mousewheel"+o.current.viewPortNamespace,function(t,n){n=n||t.originalEvent.wheelDelta;var r=n/Math.abs(n);r<0?e(o.jmpress).jmpress("zoomOut",t.originalEvent.x,t.originalEvent.y):r>0&&e(o.jmpress).jmpress("zoomIn",t.originalEvent.x,t.originalEvent.y)}),o.settings.viewPort.zoomBindMove&&e(o.settings.fullscreen?t:this).bind("mousedown"+o.current.viewPortNamespace,function(e){o.current.userZoom&&(o.current.userTranslating={x:e.clientX,y:e.clientY},e.preventDefault(),e.stopImmediatePropagation())}).bind("mousemove"+o.current.viewPortNamespace,function(t){var n=o.current.userTranslating;n&&(e(u).jmpress("zoomTranslate",t.clientX-n.x,t.clientY-n.y),n.x=t.clientX,n.y=t.clientY,t.preventDefault(),t.stopImmediatePropagation())}).bind("mouseup"+o.current.viewPortNamespace,function(e){o.current.userTranslating&&(o.current.userTranslating=r,e.preventDefault(),e.stopImmediatePropagation())})}),e.jmpress("register","zoomIn",function(e,t){o.call(this,e||0,t||0,1)}),e.jmpress("register","zoomOut",function(e,t){o.call(this,e||0,t||0,-1)}),e.jmpress("register","zoomTranslate",function(t,n){var r=e(this).jmpress("current"),i=e(this).jmpress("settings"),o=e(this).jmpress("active").data("stepData"),u=e(this).jmpress("container"),a=o.viewPortZoomable||i.viewPort.zoomable,f=e(u).innerWidth(),l=e(u).innerHeight();r.userTranslateX=s(r.userTranslateX+t/r.zoomOriginWindowScale,f*r.userZoom*r.userZoom/a),r.userTranslateY=s(r.userTranslateY+n/r.zoomOriginWindowScale,l*r.userZoom*r.userZoom/a),e(this).jmpress("reselect","zoom")}),e.jmpress("afterDeinit",function(t,r){e(n).unbind(r.current.viewPortNamespace)}),e.jmpress("setActive",function(t,n){var r=n.settings.viewPort,i=n.stepData.viewPortHeight||r.height,s=n.stepData.viewPortWidth||r.width,o=n.stepData.viewPortMaxScale||r.maxScale,u=n.stepData.viewPortMinScale||r.minScale,a=i&&e(n.container).innerHeight()/i,f=s&&e(n.container).innerWidth()/s,l=(f||a)&&Math.min(f||a,a||f);if(l){l=l||1,o&&(l=Math.min(l,o)),u&&(l=Math.max(l,u));var c=n.stepData.viewPortZoomable||n.settings.viewPort.zoomable;if(c){var h=1/l-1/o;h/=c,l=1/(1/l-h*n.current.userZoom)}n.target.transform.reverse(),n.current.userTranslateX&&n.current.userTranslateY?n.target.transform.push(["translate",n.current.userTranslateX,n.current.userTranslateY,0]):n.target.transform.push(["translate"]),n.target.transform.push(["scale",l,l,1]),n.target.transform.reverse()}n.current.zoomOriginWindowScale=l}),e.jmpress("setInactive",function(t,n){if(!n.nextStep||!t||e(n.nextStep).attr("id")!==e(t).attr("id"))n.current.userZoom=0,n.current.userTranslateX=0,n.current.userTranslateY=0})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}"use strict";var s=e.jmpress;s("defaults").mouse={clickSelects:!0},s("afterInit",function(t,n){var r=n.settings,s=r.stepSelector,o=n.current,u=e(this);o.clickableStepsNamespace=".jmpress-"+i(),u.bind("click"+o.clickableStepsNamespace,function(t){if(!r.mouse.clickSelects||o.userZoom)return;var n=e(t.target).closest(s);if(n.is(u.jmpress("active")))return;n.length&&(u.jmpress("select",n[0],"click"),t.preventDefault(),t.stopPropagation())})}),s("afterDeinit",function(t,n){e(this).unbind(n.current.clickableStepsNamespace)})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}"use strict";var s=e.jmpress;s("afterInit",function(n,r){var s=r.settings,o=r.current,u=r.jmpress;o.mobileNamespace=".jmpress-"+i();var l,c=[0,0];e(s.fullscreen?t:u).bind("touchstart"+o.mobileNamespace,function(e){l=e.originalEvent.touches[0],c=[l.pageX,l.pageY]}).bind("touchmove"+o.mobileNamespace,function(e){return l=e.originalEvent.touches[0],e.preventDefault(),!1}).bind("touchend"+o.mobileNamespace,function(t){var n=[l.pageX,l.pageY],r=[n[0]-c[0],n[1]-c[1]];if(Math.max(Math.abs(r[0]),Math.abs(r[1]))>50)return r=Math.abs(r[0])>Math.abs(r[1])?r[0]:r[1],e(u).jmpress(r>0?"prev":"next"),t.preventDefault(),!1})}),s("afterDeinit",function(n,r){var i=r.settings,s=r.current,o=r.jmpress;e(i.fullscreen?t:o).unbind(s.mobileNamespace)})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}function s(t,n,i){for(var o in n){var u=o;i&&(u=i+u.substr(0,1).toUpperCase()+u.substr(1)),e.isPlainObject(n[o])?s(t,n[o],u):t[u]===r&&(t[u]=n[o])}}function o(t,n){e.isArray(n)?n.length<t.length?e.error("more nested steps than children in template"):t.each(function(t,r){r=e(r);var i=r.data(l)||{};s(i,n[t]),r.data(l,i)}):e.isFunction(n)&&t.each(function(r,i){i=e(i);var o=i.data(l)||{};s(o,n(r,i,t)),i.data(l,o)})}function u(e,t,n,r){if(n.children){var i=t.children(r.settings.stepSelector);o(i,n.children)}a(e,n)}function a(e,t){s(e,t)}"use strict";var f=e.jmpress,l="_template_",c="_applied_template_",h={};f("beforeInitStep",function(t,n){t=e(t);var r=n.data,i=r.template,s=t.data(c),o=t.data(l);i&&e.each(i.split(" "),function(e,i){var s=h[i];u(r,t,s,n)}),s&&u(r,t,s,n),o&&(u(r,t,o,n),t.data(l,null),o.template&&e.each(o.template.split(" "),function(e,i){var s=h[i];u(r,t,s,n)}))}),f("beforeInit",function(t,n){var r=f("dataset",this),i=r.template,s=n.settings.stepSelector;if(i){var u=h[i];o(e(this).find(s).filter(function(){return!e(this).parent().is(s)}),u.children)}}),f("register","template",function(t,n){h[t]?h[t]=e.extend(!0,{},h[t],n):h[t]=e.extend(!0,{},n)}),f("register","apply",function(t,n){if(!n){var r=e(this).jmpress("settings").stepSelector;o(e(this).find(r).filter(function(){return!e(this).parent().is(r)}),t)}else if(e.isArray(n))o(e(t),n);else{var i;typeof n=="string"?i=h[n]:i=e.extend(!0,{},n),e(t).each(function(t,n){n=e(n);var r=n.data(c)||{};s(r,i),n.data(c,r)})}})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}"use strict",e.jmpress("setActive",function(t,n){n.prevStep!==t&&e(t).triggerHandler("enterStep")}),e.jmpress("setInactive",function(t,n){n.nextStep!==t&&e(t).triggerHandler("leaveStep")})}(jQuery,document,window),function(e,t,n,r){function i(){return""+Math.round(Math.random()*1e5,0)}function s(t){var n=t.split(" "),r=n[0],i={willClass:"will-"+r,doClass:"do-"+r,hasClass:"has-"+r},s="";for(var o=1;o<n.length;o++){var u=n[o];switch(s){case"":u==="after"?s="after":e.warn("unknown keyword in '"+t+"'. '"+u+"' unknown.");break;case"after":if(u.match(/^[1-9][0-9]*m?s?/)){var f=parseFloat(u);u.indexOf("ms")!==-1?f*=1:u.indexOf("s")!==-1?f*=1e3:u.indexOf("m")!==-1&&(f*=6e4),i.delay=f}else i.after=Array.prototype.slice.call(n,o).join(" ")}}return i}function o(t,n,r,i){i=i||t.length-1,r=r||0;for(var s=r;s<i+1;s++)if(e(t[s].element).is(n))return s}function u(t,n,r){e.each(n._on,function(e,n){t.push({substep:n.substep,delay:n.delay+r}),u(t,n.substep,n.delay+r)})}"use strict",e.jmpress("defaults").customAnimationDataAttribute="jmpress",e.jmpress("afterInit",function(e,t){t.current.animationTimeouts=[],t.current.animationCleanupWaiting=[]}),e.jmpress("applyStep",function(t,n){function i(e,t){if(t.substep._after)return p=t.substep._after,!1}var l={},c=[];e(t).find("[data-"+n.settings.customAnimationDataAttribute+"]").each(function(r,i){e(i).closest(n.settings.stepSelector).is(t)&&c.push({element:i})});if(c.length===0)return;e.each(c,function(t,r){r.info=s(e(r.element).data(n.settings.customAnimationDataAttribute)),e(r.element).addClass(r.info.willClass),r._on=[],r._after=null});var p={_after:r,_on:[],info:{}};e.each(c,function(e,t){var n=t.info.after;if(n)if(n==="step")n=p;else if(n==="prev")n=c[e-1];else{var r=o(c,n,0,e-1);r===-1&&(r=o(c,n)),n=r===-1||r===e?c[e-1]:c[r]}else n=c[e-1];if(n){if(!t.info.delay){if(!n._after){n._after=t;return}n=n._after}n._on.push({substep:t,delay:t.info.delay||0})}});if(p._after===r&&p._on.length===0){var v=o(c,n.stepData.startSubstep)||0;p._after=c[v]}var m=[];do{var y=[{substep:p,delay:0}];u(y,p,0),m.push(y),p=null,e.each(y,i)}while(p);l.list=m,e(t).data("substepsData",l)}),e.jmpress("unapplyStep",function(t,n){var r=e(t).data("substepsData");r&&e.each(r.list,function(t,n){e.each(n,function(t,n){n.substep.info.willClass&&e(n.substep.element).removeClass(n.substep.info.willClass),n.substep.info.hasClass&&e(n.substep.element).removeClass(n.substep.info.hasClass),n.substep.info.doClass&&e(n.substep.element).removeClass(n.substep.info.doClass)})})}),e.jmpress("setActive",function(t,n){var i=e(t).data("substepsData");if(!i)return;n.substep===r&&(n.substep=n.reason==="prev"?i.list.length-1:0);var s=n.substep;e.each(n.current.animationTimeouts,function(e,t){clearTimeout(t)}),n.current.animationTimeouts=[],e.each(i.list,function(t,r){var i=t<s,o=t<=s;e.each(r,function(t,r){function s(){e(r.substep.element).addClass(r.substep.info.doClass)}r.substep.info.hasClass&&e(r.substep.element)[(i?"add":"remove")+"Class"](r.substep.info.hasClass),o&&!i&&r.delay&&n.reason!=="prev"?r.substep.info.doClass&&(e(r.substep.element).removeClass(r.substep.info.doClass),n.current.animationTimeouts.push(setTimeout(s,r.delay))):r.substep.info.doClass&&e(r.substep.element)[(o?"add":"remove")+"Class"](r.substep.info.doClass)})})}),e.jmpress("setInactive",function(t,n){function r(t){e.each(t.list,function(t,n){e.each(n,function(t,n){n.substep.info.hasClass&&e(n.substep.element).removeClass(n.substep.info.hasClass),n.substep.info.doClass&&e(n.substep.element).removeClass(n.substep.info.doClass)})})}if(n.nextStep===t)return;e.each(n.current.animationCleanupWaiting,function(e,t){r(t)}),n.current.animationCleanupWaiting=[];var i=e(t).data("substepsData");i&&n.current.animationCleanupWaiting.push(i)}),e.jmpress("selectNext",function(t,n){if(n.substep===r)return;var i=e(t).data("substepsData");if(!i)return;if(n.substep<i.list.length-1)return{step:t,substep:n.substep+1}}),e.jmpress("selectPrev",function(t,n){if(n.substep===r)return;var i=e(t).data("substepsData");if(!i)return;if(n.substep>0)return{step:t,substep:n.substep-1}})}(jQuery,document,window);jQuery.fn.extend({zlayer:function(e){function o(e,t){var n=t.pageX,r=t.pageY,i=e.offset(),s=i.left,o=i.top,u=s+e.width(),a=o+e.height();return n>=s&&n<=u&&r>=o&&r<=a?!0:!1}function u(e){var t=r.offset(),n=e.pageX-t.left-r.width()/2,i=e.pageY-t.top-r.height()/2;r.css({top:a(i,"y"),left:a(n,"x")})}function a(e,t){e=n.force=="pull"?s==t?e=0:e/=i:s==t?e=0:e=-e/i;return parseInt(e)}var t={canvas:document,confine:"",force:"push",mass:10},e=jQuery.extend(t,e),n=e,r=jQuery(this),i=n.mass,s=n.confine;return this.each(function(){jQuery(n.canvas).bind({mousemove:function(e){u(e)},touchmove:function(e){e=e.originalEvent;e.preventDefault();o(jQuery(this),e)&&u(e)}})})}});var transitionSpeed=500,scrollSpeed=700,fadeDelay=100,currentProject="",nextProject="",previousHeight="",emptyProjectBoxHeight=400,hasSlideshow=!1;jQuery.noConflict();jQuery(document).ready(function(){tab_panel_underlined();horThumbSlider();video_gallery();toggle_panel();fullPageSlidshow();fullWidthSlidshow();blockSlider();jmpressSlideshow();setMobileNav();jQuery(".videoContainer").fitVids();jQuery("table").footable();jQuery(".para_back").zlayer({mass:25,force:"push",canvas:"#para-wrapper"});jQuery(".para_middle").zlayer({mass:28,force:"push",canvas:"#para-wrapper"});jQuery(".para_front").zlayer({mass:15,force:"push",canvas:"#para-wrapper"})});jQuery(window).load(function(){jQuery("#left_fixed #product_summary").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsImg").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsContent").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsOverflow").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsContainer").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsSlide").css({"min-height":jQuery(window).height()});lightboxInit();projectThumbInit();projectFilterInit();instagramSlider();jQuery(".slide_menu").pageslide({direction:"left",modal:!0});var e=location.hash.replace("#","");e!="index"&&processProject(e)});jQuery(window).resize(function(){jQuery("#left_fixed #product_summary").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsImg").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsContent").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsOverflow").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsContainer").css({"min-height":jQuery(window).height()});jQuery("#full_bg_slideshow .rsSlide").css({"min-height":jQuery(window).height()})});